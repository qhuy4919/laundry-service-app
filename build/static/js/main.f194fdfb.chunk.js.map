{"version":3,"sources":["component/footer/Footer.js","icon/logo-trans.png","const/api-url.js","const/local-storage-key.js","api/account/sign-in.js","component/topbar/modal/login/Login.js","api/account/sign-up.js","component/topbar/modal/register/Register.js","api/account/password-reset.js","component/topbar/modal/password-reset/PasswordReset.js","api/account/mail-confirm.js","component/topbar/modal/mail-confirm/MailConfirm.js","component/topbar/modal/ModalButton.js","component/topbar/Topbar.js","api/axios-client.js","api/discount/index.js","component/modal/discount-modal.js","pages/front-page/subcomponent/RecommendedSection.js","pages/front-page/subcomponent/PickSection.js","pages/front-page/FrontPage.js","store/itemSlice.js","pages/shop/sub-component/order-item/order-item.js","pages/shop/sub-component/shop-feedback/shop-feedback-detail/shop-feedback-detail.js","pages/shop/sub-component/shop-feedback/shop-feedback.js","api/shop/index.js","pages/shop/sub-component/shop-info/shop-info.js","pages/shop/sub-component/shop-item/shop-item.js","pages/shop/sub-component/shop-item/shop-item-detail/shop-item-detail.js","api/category/index.js","api/account/profile.js","api/query-api.js","pages/shop/shop.js","pages/profile-page/subcomponent/ProfileInformation.js","pages/profile-page/subcomponent/ProfileHeader.js","pages/profile-page/subcomponent/ProfileOrderSection.js","pages/profile-page/ProfilePage.js","pages/not-found/NotFoundPage.js","pages/info/InfoPage.js","api/order/index.js","pages/payment/payment.js","pages/admin/sidebar/sidebar.js","pages/admin/admin-content/statistics/Stats.js","pages/admin/admin-content/shops/Shop.js","pages/admin/admin-content/users/User.js","pages/admin/admin-content/orders/Order.js","pages/admin/admin-content/discounts/Discount.js","pages/admin/admin.js","App.js","store/store.js","index.js"],"names":["Footer","className","SIGN_IN_URL","SIGN_UP_URL","PASSWORD_RESET_URL","MAIL_CONFIRM_URL","SIGNED_IN_USER","ITEM_IN_CART","APPLIED_COUPON","SHOP_INFO","callSignIn","params","a","fullurl","process","statuscode","fetch","method","headers","body","JSON","stringify","then","res","status","json","data","localStorage","setItem","user","token","catch","err","console","log","removeItem","Login","handleClose","onRegisClick","onPwRsClick","useState","email","setEmail","password","setPassword","onSubmitHandler","e","preventDefault","alert","Modal","show","onHide","Header","closeButton","Title","Body","Form","onSubmit","Group","controlId","Label","Control","type","placeholder","onChange","target","value","Text","Button","variant","onClick","callSignUp","Register","onLoginClick","onMailConfClick","nickname","confirm_password","formData","setFormData","signUpBtnClick","setSignUpBtnClick","__onSubmitHandler","length","username","Spinner","animation","style","callPasswordReset","PasswordReset","resetBtnClick","setResetBtnClick","succeed","callMailConfirm","MailConfirm","code","setCode","required","ModalButton","mode","setMode","onModalClose","onSigninOpen","onSignupOpen","onPwForgotOpen","signed_in_user_cred","getItem","undefined","parse","lineheight","role","toLowerCase","window","location","href","to","Topbar","Navbar","bg","expand","Container","Brand","src","logo","alt","Nav","FormControl","axiosClient","axios","create","timeout","paramsSerializer","queryString","interceptors","request","use","config","response","error","DiscountAPI","list","Authorization","url","get","totalAmmount","post","delete","id","update","put","DiscountModal","props","discountData","useForm","register","handleSubmit","setValue","reset","onSubmitForm","isNaN","parseInt","discount_code","remaining","parseFloat","percentage","minimum","stdate","Date","start_time","endate","end_time","getTime","useEffect","defaultValue","disabled","toFixed","form","images","names","descs","Recommendation","shop","name","description","imgsrc","shop_id","history","useHistory","Card","push","pathname","Img","ImgOverlay","RecommendedSection","shops","i","getShop","Row","xs","md","map","idx","Col","locations","count","Choice","loc","PickSection","marginBottom","FrontPage","itemListSlice","createSlice","initialState","shopName","item","loading","reducers","addToCart","state","action","payload","item_id","detail","removeCart","getShopName","actions","itemListSelector","itemList","OrderItem","OrderItemInner","closeNextButton","shopId","addToCartItem","useSelector","orderItemList","setItemOrderList","setTotalAmmount","origTotalAmmount","setOTA","tmp_coupon","coupon","setCoupon","discountCode","setDiscountCode","checkDiscountCode","Object","keys","total","key","tmp","item_price","Table","borderless","hover","responsive","borderBottom","element","item_name","colSpan","ShopFeedbackDetail","feedBack","user_name","when","rating","content","ShopFeedback","index","QueryShop","CommandShopAvatar","ShopInfo","userData","shop_info","Information","avatar","setAvatar","selectFile","setSelectFile","shop_profile_pic","user_id","htmlFor","accept","files","onChangeUploadFile","FormData","append","updateAvatar","reload","handleUploadFile","shop_name","render_shop_info","string","charAt","toUpperCase","slice","fontStyle","color","ShopItem","categoryItem","handleFetchItem","category_name","category","setCategory","isLoading","categoryId","category_id","ShopItemDetail","setItemList","dispatch","useDispatch","items","Accordion","Item","eventKey","item_detail","itemId","chossenItem","filter","getItemById","addItem","CommandProfile","Query","userProfile","Shop","useParams","shopInfor","setShopInfo","setIsloading","setCategoryId","cateIdToIdxMap","fetchShop","categories","forEach","cate","indx","find","ProfileInformation","handleUpdateProfile","userInfor","info","address","birthday","phone_number","phoneNum","updateProfile","ProfileHeader","profile","img","profile_pic","order","following","ProfileOrder","order_time","total_cost","order_status","note","toLocaleString","ProfileOrderSection","orders","striped","bordered","size","ProfilePage","setUserProfile","fetchProfile","NotFoundPage","InfoPage","width","background","readOnly","float","CommandOrder","Payment","userInformation","setUserInformation","shopState","shopObj","couponObj","newdata","order_details","sendOrder","border","margin","paddingLeft","AdminSidebar","setTab","tmpUser","active","deleted_at","gender","is_persistent","token_created_at","updated_at","Stats","User","Order","Discount","setdiscountData","setShow","pageCount","setPageCount","setItemOffset","fetchDiscountData","Math","ceil","handlePageClick","selected","setSelectedDiscount","pageData","setPageData","selectedDiscount","handleDiscountModal","handleShow","event","newOffset","startIdx","endIdx","ID","_delete","handleDeleteDiscount","toString","breakLabel","nextLabel","onPageChange","pageLinkClassName","previousLinkClassName","nextLinkClassName","pageRangeDisplayed","previousLabel","renderOnZeroPageCount","Admin","tab","userCred","UserPage","path","exact","App","configureStore","reducer","require","ReactDOM","render","StrictMode","store","document","getElementById"],"mappings":"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","file":"static/js/main.f194fdfb.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./Footer.css\";\r\n\r\nexport function Footer() {\r\n  return (\r\n    <div className=\"footer bg-light\">\r\n      <div className=\"footer-left-content h5\">2020 All Rights Reserved</div>\r\n      <div className=\"footer-right-content h5\">About Us</div>\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo-trans.683fb5c7.png\";","export const SERVER_URL = '';\r\n\r\nexport const SIGN_IN_URL = '/sign-in';\r\nexport const SIGN_UP_URL = '/sign-up';\r\n\r\nexport const PASSWORD_RESET_URL = '/reset-password';\r\nexport const MAIL_CONFIRM_URL = '/mail-confirm';","export const SIGNED_IN_USER = \"signed_in_user_data\";\r\nexport const ITEM_IN_CART = \"item_in_cart\";\r\nexport const APPLIED_COUPON = \"applied_coupon\";\r\nexport const SHOP_INFO = \"shop_information\";\r\n","import { SIGN_IN_URL } from \"const/api-url\";\r\nimport { SIGNED_IN_USER, ITEM_IN_CART } from \"const/local-storage-key\";\r\n\r\nexport async function callSignIn(params) {\r\n  const fullurl = `${process.env.REACT_APP_API_SERVER}${SIGN_IN_URL}`;\r\n  let statuscode = 600;\r\n\r\n  // console.log(fullurl)\r\n  await fetch(fullurl, {\r\n    method: \"post\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(params),\r\n  })\r\n    .then((res) => {\r\n      statuscode = res.status;\r\n      return res.json();\r\n    })\r\n    .then((data) => {\r\n      localStorage.setItem(SIGNED_IN_USER, JSON.stringify(data));\r\n      localStorage.setItem(\"TOKEN\", data.data.user.token);\r\n      localStorage.setItem(ITEM_IN_CART, \"\");\r\n    })\r\n    .catch((err) => {\r\n      console.log(\"Error while Logging In...\");\r\n      console.log(err);\r\n      localStorage.removeItem(SIGNED_IN_USER);\r\n      localStorage.removeItem(\"TOKEN\");\r\n      localStorage.removeItem(ITEM_IN_CART);\r\n    });\r\n  if (statuscode < 300) return true;\r\n  return false;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Button, Form, Modal } from \"react-bootstrap\";\r\nimport \"./Login.css\";\r\n\r\nimport { callSignIn } from \"api/account/sign-in\";\r\n\r\nfunction Login({ handleClose, onRegisClick, onPwRsClick }) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const onSubmitHandler = async (e) => {\r\n    e.preventDefault();\r\n    if (email===\"\") {\r\n      alert(\"サインインは失敗しました💦\\nHINT: Emailを入力してください\");\r\n      return false;\r\n    }\r\n    if (password===\"\") {\r\n      alert(\"サインインは失敗しました💦\\nHINT: Passwordを入力してください\");\r\n      return false;\r\n    }\r\n\r\n    const succeed = await callSignIn({ email, password });\r\n    if (succeed) {\r\n      handleClose();\r\n    } else {\r\n      alert(\"サインインは失敗しました💦\\nHINT: EmailをNicknameと間違えましたか？\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Modal show={true} onHide={handleClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Sign In</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body className=\"login-modal-body\">\r\n          <Form onSubmit={onSubmitHandler}>\r\n            <Form.Group controlId=\"formBasicEmail\" className=\"modal-field\">\r\n              <Form.Label>Email</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Email\"\r\n                onChange={(e) => setEmail(e.target.value)}\r\n              />\r\n              <Form.Text className=\"text-muted\"></Form.Text>\r\n            </Form.Group>\r\n\r\n            <Form.Group controlId=\"formBasicPassword\" className=\"modal-field\">\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n                onChange={(e) => setPassword(e.target.value)}\r\n              />\r\n            </Form.Group>\r\n            <Form.Group controlId=\"formBasicButton\" className=\"modal-field\">\r\n              <Button className=\"login-button\" variant=\"primary\" type=\"submit\">\r\n                Login\r\n              </Button>\r\n            </Form.Group>\r\n          </Form>\r\n        </Modal.Body>\r\n\r\n        <Modal.Footer>\r\n          <Button onClick={onRegisClick}>Sign Up Here</Button>\r\n          <Button onClick={onPwRsClick}>Password Reset Here</Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import {SIGN_UP_URL} from 'const/api-url'\r\n\r\nexport async function callSignUp(params) {\r\n\tconst fullurl =  `${process.env.REACT_APP_API_SERVER}${SIGN_UP_URL}`;\r\n\tlet statuscode = 500;\r\n\r\n\tawait fetch(fullurl, {\r\n\t\tmethod: 'post',\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json'\r\n\t\t},\r\n\t\tbody: JSON.stringify(params)\r\n\t}).then((res) => {\r\n\t\tres.json()\r\n\t\tstatuscode = res.status;\r\n\t}).catch((err) => {\r\n\t\tconsole.log(\"Error while Logging In...\")\r\n\t\tconsole.log(err)\r\n\t});\r\n\r\n\tif (statuscode < 300) return true;\r\n\treturn false;\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Button, Form, Modal } from 'react-bootstrap';\r\nimport { Spinner } from 'react-bootstrap';\r\nimport './Register.css';\r\n\r\nimport {callSignUp} from 'api/account/sign-up';\r\nimport {MdOutlineMarkEmailRead} from 'react-icons/md';\r\n\r\nfunction Register({handleClose, onLoginClick, onPwRsClick, onMailConfClick}) {\r\n    const [formData, setFormData] = useState({nickname:'', email:'', password:'', confirm_password:''})\r\n    const [signUpBtnClick, setSignUpBtnClick] = useState(false)\r\n\r\n    const onSubmitHandler = async (e) => {\r\n        e.preventDefault();\r\n        setSignUpBtnClick(true);\r\n        await __onSubmitHandler();\r\n    }\r\n\r\n    const __onSubmitHandler = async () => {\r\n        const {nickname, email, password, confirm_password} = formData\r\n        if ( nickname.length * email.length * password.length * confirm_password.length === 0) {\r\n            setSignUpBtnClick(false);\r\n            alert('サインアップに失敗しました…\\nHINT: Fieldが全部入力してください')\r\n            return false;\r\n        }\r\n        if (password !== confirm_password) {\r\n            setSignUpBtnClick(false);\r\n            alert('サインアップに失敗しました…\\nHINT: PasswordとConfirm Passwordが異なります')\r\n            return false;\r\n        }\r\n\r\n        const succeed = await callSignUp({...formData, username: nickname});\r\n        // const res = await callSignUp(formData);\r\n        if (succeed) {\r\n            setSignUpBtnClick(false);\r\n            alert(\"サインアップに成功しました!\\nサインイン前に、Mail介してアカウントを確認してください\")\r\n            // onMailConfClick(); // \r\n            return true;\r\n        } else {\r\n            setSignUpBtnClick(false);\r\n            alert('サインアップに失敗しました…\\nサーバーがリクエストを拒否しました...管理者に連絡してください。')\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Modal show={true} onHide={handleClose}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Sign Up</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body className='login-modal-body'>\r\n                    <Form onSubmit={onSubmitHandler}>\r\n                        <Form.Group controlId=\"formBasicNickname\" className='modal-field'>\r\n                            <Form.Label>Nickname</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"Username\" \r\n                                onChange={(e)=>setFormData({...formData, nickname: e.target.value})}/>\r\n                            <Form.Text className=\"text-muted\">\r\n                            </Form.Text>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"formBasicEmail\" className='modal-field'>\r\n                            <Form.Label>Mail Address</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"Email\"\r\n                                onChange={(e)=>setFormData({...formData, email: e.target.value})}/>\r\n                            <Form.Text className=\"text-muted\">\r\n                            </Form.Text>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"formBasicPassword\" className='modal-field'>\r\n                            <Form.Label>Password</Form.Label>\r\n                            <Form.Control type=\"password\" placeholder=\"Password\"\r\n                                onChange={(e)=>setFormData({...formData, password: e.target.value})}/>\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"formBasicPasswordAgain\" className='modal-field'>\r\n                            <Form.Label>Re-enter Password</Form.Label>\r\n                            <Form.Control type=\"password\" placeholder=\"Password\"\r\n                                onChange={(e)=>setFormData({...formData, confirm_password: e.target.value})}/>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"formBasicButton\" className='modal-field button-panel'>\r\n\t\t\t\t\t\t\t<Button className=\"login-button\" variant=\"primary\" type=\"submit\">\r\n                                Sign Up  \r\n                            {signUpBtnClick && <span>  <Spinner animation=\"border\" style={{\"display\":\"inline-block\", \"height\":\"15px\", \"width\":\"15px\"}}/></span>}\r\n\t\t\t\t\t\t\t</Button>\r\n                        </Form.Group>\r\n                    </Form>\r\n                </Modal.Body>\r\n\r\n                <Modal.Footer>\r\n                    <Button onClick={onLoginClick}>Sign In Here</Button>\r\n                    <Button onClick={onPwRsClick}>Password Reset Here</Button>\r\n                    {/* <Button className=\"login-button\" onClick={onMailConfClick} variant=\"primary\">\r\n                        <MdOutlineMarkEmailRead/>\r\n                    </Button> */}\r\n                </Modal.Footer>\r\n            </Modal>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Register;","import {PASSWORD_RESET_URL} from 'const/api-url'\r\n\r\nexport async function callPasswordReset(params) {\r\n\tconst fullurl =  `${process.env.REACT_APP_API_SERVER}${PASSWORD_RESET_URL}`;\r\n\tlet statuscode = 600;\r\n\r\n\t// console.log(fullurl)\r\n\tawait fetch(fullurl, {\r\n\t\tmethod: 'post',\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json'\r\n\t\t},\r\n\t\tbody: JSON.stringify(params)\r\n\t}).then((res) => {\r\n\t\t// Alert based on status code\r\n\t\tstatuscode = res.status;\r\n\t\tconsole.log(\"Password Reset Mail Sent status:\", res);\r\n\t\t// alert(\"Mail Sent!\");\r\n\t\treturn res.json()\r\n\t}).catch((err) => {\r\n\t\tconsole.log(\"Error while Logging In...\")\r\n\t\tconsole.log(err)\r\n\t\talert(\"Something Went Wrong..\");\r\n\t});\r\n\tif (statuscode < 300) return true;\r\n\treturn false;\r\n}\r\n","import { useState } from 'react';\r\nimport { Spinner, Button, Form, Modal } from 'react-bootstrap';\r\n\r\nimport './PasswordReset.css';\r\n\r\nimport {callPasswordReset} from 'api/account/password-reset';\r\n\r\nfunction PasswordReset({handleClose, onLoginClick, onRegisClick}) {\r\n    const [email, setEmail] = useState('')\r\n    const [resetBtnClick, setResetBtnClick] = useState(false)\r\n\r\n\r\n    const onSubmitHandler = async (e) => {\r\n        e.preventDefault();\r\n        setResetBtnClick(true)\r\n        await __onSubmitHandler();\r\n    }\r\n\r\n    const __onSubmitHandler = async () => {\r\n        if (email === '') {\r\n            setResetBtnClick(false)\r\n            alert('パスワードリセットに失敗しました...\\nHINT: おmailを入力してください')\r\n            return false;\r\n        }\r\n\r\n        const succeed = await callPasswordReset({email});\r\n        setResetBtnClick(false)\r\n        if (succeed) {\r\n            alert('パスワードリセットに成功しました!\\nMailにチェックしてください')\r\n            handleClose();\r\n            return true;\r\n        } else {\r\n            alert('パスワードリセットに失敗しました...\\nサーバーがリクエストを拒否しました...管理者に連絡してください。')\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Modal show={true} onHide={handleClose}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Password Reset</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body className='login-modal-body'>\r\n                    <Form onSubmit={onSubmitHandler}>\r\n                        <Form.Group controlId=\"formBasicEmail\" className='modal-field'>\r\n                            <Form.Label>Mail Address</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"Email\" value={email}\r\n                                onChange={(e)=>setEmail(e.target.value)}/>\r\n                            <Form.Text className=\"text-muted\">\r\n                            </Form.Text>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"formBasicButton\" className='modal-field'>\r\n\t\t\t\t\t\t\t<Button className=\"login-button\" variant=\"primary\" type=\"submit\">\r\n                                Password Reset\r\n                                {resetBtnClick && <span>  <Spinner animation=\"border\" style={{\"display\":\"inline-block\", \"height\":\"15px\", \"width\":\"15px\"}}/></span>}\r\n\t\t\t\t\t\t\t</Button>\r\n                        </Form.Group>\r\n                    </Form>\r\n                </Modal.Body>\r\n\r\n                <Modal.Footer>\r\n                    <Button onClick={onLoginClick}>Sign In Here</Button>\r\n                    <Button onClick={onRegisClick}>Sign Up Here</Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PasswordReset;","import {MAIL_CONFIRM_URL} from 'const/api-url'\r\n\r\nexport async function callMailConfirm(params) {\r\n\tconst fullurl =  `${process.env.REACT_APP_API_SERVER}${MAIL_CONFIRM_URL}`;\r\n\tlet statuscode = 600;\r\n\r\n\t// console.log(fullurl)\r\n\tawait fetch(fullurl, {\r\n\t\tmethod: 'post',\r\n\t\theaders: {\r\n\t\t\t'Content-Type': 'application/json'\r\n\t\t},\r\n\t\tbody: JSON.stringify(params)\r\n\t}).then((res) => {\r\n\t\t// Alert based on status code\r\n\t\tstatuscode = res.status;\r\n\t\tconsole.log(res);\r\n\t\talert(\"Mail Sent!\");\r\n\t\treturn res.json()\r\n\t}).catch((err) => {\r\n\t\tconsole.log(\"Error while Logging In...\")\r\n\t\tconsole.log(err)\r\n\t\talert(\"Something Went Wrong..\");\r\n\t});\r\n\tif (statuscode < 300) return true;\r\n\treturn false;\r\n}\r\n","import { useState } from 'react';\r\nimport { Button, Form, Modal } from 'react-bootstrap';\r\nimport './MailConfirm.css';\r\n\r\nimport {callMailConfirm} from 'api/account/mail-confirm';\r\n\r\nfunction MailConfirm({handleClose}) {\r\n    const [email, setEmail] = useState('')\r\n    const [code, setCode] = useState('')\r\n\r\n    const onSubmitHandler = async (e) => {\r\n        e.preventDefault();\r\n        if (code === '' || email === '') {\r\n            alert('Please Input all required Fields')\r\n            return false;\r\n        }\r\n\r\n        const succeed = await callMailConfirm({email, token: code});\r\n        console.log(succeed);\r\n        if (succeed) {\r\n            handleClose();\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Modal show={true} onHide={handleClose}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Email Confirmation</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body className='login-modal-body'>\r\n                    <Form onSubmit={onSubmitHandler}>\r\n                        <Form.Group controlId=\"formBasicEmail\" className='modal-field'>\r\n                            <Form.Label>Mail Address</Form.Label>\r\n                            <Form.Control type=\"mail\" placeholder=\"Email\" value={email}\r\n                                onChange={(e)=>setEmail(e.target.value)} required/>\r\n\r\n                            <Form.Label>Confirmation Code</Form.Label>\r\n                            <Form.Control type=\"text\" placeholder=\"Email\" value={code}\r\n                                onChange={(e)=>setCode(e.target.value)} required/>\r\n                            <Form.Text className=\"text-muted\">\r\n                            </Form.Text>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group controlId=\"formBasicButton\" className='modal-field'>\r\n\t\t\t\t\t\t\t<Button className=\"login-button\" variant=\"primary\" type=\"submit\">\r\n                                Confirm\r\n\t\t\t\t\t\t\t</Button>\r\n                        </Form.Group>\r\n                    </Form>\r\n                </Modal.Body>\r\n\r\n                {/* <Modal.Footer>\r\n                    <Button onClick={onLoginClick}>Sign In Here</Button>\r\n                    <Button onClick={onRegisClick}>Sign Up Here</Button>\r\n                </Modal.Footer> */}\r\n            </Modal>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MailConfirm;","import React, { useState } from \"react\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Login from \"./login/Login\";\r\nimport Register from \"./register/Register\";\r\nimport PasswordReset from \"./password-reset/PasswordReset\";\r\nimport MailConfirm from \"./mail-confirm/MailConfirm\";\r\n\r\nimport { SIGNED_IN_USER } from \"const/local-storage-key\";\r\n\r\nfunction ModalButton() {\r\n  //for Modal\r\n  const [mode, setMode] = useState(0);\r\n  const onModalClose = () => setMode(0);\r\n  const onSigninOpen = () => setMode(1);\r\n  const onSignupOpen = () => setMode(2);\r\n  const onPwForgotOpen = () => setMode(3);\r\n  const onMailConfirmOpen = () => setMode(4);\r\n\r\n  let signed_in_user_cred = localStorage.getItem(SIGNED_IN_USER) || undefined;\r\n  if (signed_in_user_cred !== undefined)\r\n    signed_in_user_cred = JSON.parse(signed_in_user_cred);\r\n\r\n  return signed_in_user_cred === undefined ? (\r\n    <>\r\n      <Button\r\n        variant=\"light\"\r\n        style={{ lineheight: \"1.5\" }}\r\n        onClick={onSigninOpen}\r\n      >\r\n        Sign-in\r\n      </Button>\r\n      {/* { <modeModalMapping[mode] handleClose={onModalClose}/> } */}\r\n      {mode === 1 ? (\r\n        <Login\r\n          handleClose={onModalClose}\r\n          onRegisClick={onSignupOpen}\r\n          onPwRsClick={onPwForgotOpen}\r\n        />\r\n      ) : (\r\n        <></>\r\n      )}\r\n      {mode === 2 ? (\r\n        <Register\r\n          handleClose={onModalClose}\r\n          onLoginClick={onSigninOpen}\r\n          onPwRsClick={onPwForgotOpen}\r\n          onMailConfClick={onMailConfirmOpen}\r\n        />\r\n      ) : (\r\n        <></>\r\n      )}\r\n      {mode === 3 ? (\r\n        <PasswordReset\r\n          handleClose={onModalClose}\r\n          onLoginClick={onSigninOpen}\r\n          onRegisClick={onSignupOpen}\r\n        />\r\n      ) : (\r\n        <></>\r\n      )}\r\n      {mode === 4 ? <MailConfirm handleClose={onModalClose} /> : <></>}\r\n    </>\r\n  ) : (\r\n    <>\r\n      {\r\n        signed_in_user_cred.data.user.role && signed_in_user_cred.data.user.role.toLowerCase() === 'admin' \r\n          &&\r\n          <Button variant=\"dark\" type=\"button\"\r\n            onClick={(e) => {\r\n              window.location.href = '/admin';\r\n            }}\r\n          > Admin Page </Button>\r\n      }\r\n      <Link to=\"/profile\">\r\n        <Button\r\n          className=\"greeting-btn\"\r\n          variant=\"light\"\r\n          style={{ lineheight: \"1.5\" }}\r\n          type=\"button\"\r\n        >\r\n          Hello, {`${signed_in_user_cred.data.user.nickname}!`}\r\n        </Button>\r\n      </Link>\r\n      <Button\r\n        variant=\"light\"\r\n        style={{ lineheight: \"1.5\" }}\r\n        onClick={() => {\r\n          signed_in_user_cred = undefined;\r\n          localStorage.removeItem(SIGNED_IN_USER);\r\n          localStorage.removeItem(\"TOKEN\");\r\n          // window.location.reload();\r\n          window.location.href = '/';\r\n        }}\r\n      >\r\n        {\" \"}\r\n        Sign-Out\r\n      </Button>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ModalButton;\r\n","import {\r\n  Navbar,\r\n  Nav,\r\n  Container,\r\n  Form,\r\n  FormControl,\r\n  Button,\r\n} from \"react-bootstrap\";\r\nimport \"./Topbar.css\";\r\nimport logo from \"icon/logo-trans.png\";\r\nimport ModalButton from \"./modal/ModalButton\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport function Topbar() {\r\n  return (\r\n    <Navbar bg=\"light\" expand=\"lg\">\r\n      <Container>\r\n        <Navbar.Brand>\r\n          <Link to=\"/\">\r\n            <img src={logo} alt=\"Logo\" />\r\n            Online Laundry\r\n          </Link>\r\n        </Navbar.Brand>\r\n        <Nav className=\"me-auto\">\r\n          <Form className=\"d-flex navBarSearchForm\">\r\n            <FormControl\r\n              type=\"search\"\r\n              placeholder=\"Not implemented\"\r\n              className=\"mr-2 navbarInputSearch\"\r\n              aria-label=\"Search\"\r\n            />\r\n            <Button variant=\"outline-success\">🔎</Button>\r\n          </Form>\r\n        </Nav>\r\n\r\n        <ModalButton />\r\n        {/* <Navbar.Text>\r\n\t\t\t<a href=\"#login\">Sign In</a>\r\n\t\t\t</Navbar.Text> */}\r\n      </Container>\r\n    </Navbar>\r\n  );\r\n}\r\n","import axios from \"axios\";\r\nimport queryString from \"query-string\";\r\n\r\nconst axiosClient = axios.create({\r\n  headers: {\r\n    \"content-type\": \"application/json\",\r\n    // \"Access-Control-Allow-Origin\": \"*\",\r\n  },\r\n  timeout: 30000,\r\n  paramsSerializer: (params) => queryString.stringify(params),\r\n});\r\n\r\naxiosClient.interceptors.request.use(async (config) => {\r\n  // Handle token here ...\r\n  return config;\r\n});\r\naxiosClient.interceptors.response.use(\r\n  (response) => {\r\n    if (response && response.data) {\r\n      return response.data;\r\n    }\r\n    return response;\r\n  },\r\n  (error) => {\r\n    console.log(error);\r\n  }\r\n);\r\n\r\nexport default axiosClient;\r\n","import axiosClient from \"../axios-client\";\r\n\r\nexport const DiscountAPI = {\r\n  list: async () => {\r\n    const token = localStorage.getItem(\"TOKEN\");\r\n    let config = {\r\n      headers: {\r\n        Authorization: token,\r\n      },\r\n    };\r\n    const url = `${process.env.REACT_APP_API_SERVER}/discount`;\r\n    return axiosClient.get(url, config);\r\n  },\r\n\r\n  get: async (code, totalAmmount) => {\r\n    if (!code) code = '-';\r\n    const token = localStorage.getItem(\"TOKEN\");\r\n    let config = {\r\n      headers: {\r\n        Authorization: token,\r\n      },\r\n    };\r\n    const url = `${process.env.REACT_APP_API_SERVER}/discount/${code}?totalAmmount=${totalAmmount}`;\r\n    return axiosClient.get(url, config);\r\n  },\r\n\r\n  create: async (data) => {\r\n    const token = localStorage.getItem(\"TOKEN\");\r\n    let config = {\r\n      headers: {\r\n        Authorization: token,\r\n      },\r\n    };\r\n    const url = `${process.env.REACT_APP_API_SERVER}/discount`;\r\n    return axiosClient.post(url, data, config);\r\n  },\r\n\r\n\r\n  delete: async (id) => {\r\n    const token = localStorage.getItem(\"TOKEN\");\r\n    let config = {\r\n      headers: {\r\n        Authorization: token,\r\n      },\r\n    };\r\n    const url = `${process.env.REACT_APP_API_SERVER}/discount/${id}`;\r\n    return axiosClient.delete(url, config);\r\n  },\r\n\r\n  update: async (data) => {\r\n    const token = localStorage.getItem(\"TOKEN\");\r\n    let config = {\r\n      headers: {\r\n        Authorization: token,\r\n      },\r\n    };\r\n    const url = `${process.env.REACT_APP_API_SERVER}/discount`;\r\n    return axiosClient.put(url, data, config);\r\n  },\r\n};","import React, { useEffect } from \"react\";\r\nimport { Button, Modal, Form } from \"react-bootstrap\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nimport {DiscountAPI} from '../../api/discount'\r\n\r\nexport function DiscountModal(props) {\r\n  const { show, handleClose, discountData } = props;\r\n  const { register, setValue, handleSubmit, reset } = useForm();\r\n  // \r\n  const onSubmitForm = async (data) => {\r\n    try {\r\n      if (data.id === undefined) \r\n        if (discountData) {\r\n          data.id = discountData.id;\r\n          if (isNaN(parseInt(data.id))) throw (\"ID must be an integer\")\r\n          data.id = parseInt(data.id)\r\n        }\r\n      \r\n      if (!data.discount_code) {\r\n        throw (\"Please input Discount Code\");\r\n      }\r\n\r\n      if (!isNaN(parseInt(data.remaining))) {\r\n        data.remaining = parseInt(data.remaining)\r\n        if (data.remaining < 0) {\r\n          throw (\"Remaining must be non-negative\");\r\n        }\r\n      } else {\r\n        throw (\"Remaining must be an integer\");\r\n      }\r\n      \r\n      if (!isNaN( parseFloat(data.percentage) )) {\r\n        data.percentage = parseFloat(data.percentage)\r\n      } else throw (\"Discount percentage must be a valid Real number\")\r\n      if (data.percentage <= 0 || 1 < data.percentage) {\r\n        throw (\"Discount percentage must be greater than Zero and not greater than 1\")\r\n      }\r\n\r\n      if (!isNaN(data.minimum)) {\r\n        data.minimum = parseFloat(data.minimum)\r\n      } else throw (\"Discount minimum must be a valid Real number\")\r\n      if (data.minimum < 0) {\r\n        throw (\"Discount percentage must be in non-negative\")\r\n      }\r\n\r\n      const stdate = new Date(data.start_time)\r\n      const endate = new Date(data.end_time)\r\n      if (isNaN(stdate)) {\r\n        throw (\"Start Time must be a valid timestamp, in format YYYY-MM-DD HH:mm:ss\")\r\n      }\r\n      if (isNaN(endate)) {\r\n        throw (\"End Time must be a valid timestamp, in format YYYY-MM-DD HH:mm:ss\")\r\n      }\r\n      if (stdate.getTime() >= endate.getTime()) {\r\n        throw (\"Start Time must be before End Time\")\r\n      }\r\n    } catch (err) {\r\n      alert(err);\r\n      return false;\r\n    }\r\n\r\n    const mode = (discountData ? \"update\" : \"create\");\r\n    if (mode === \"update\") {\r\n      // alert(JSON.stringify(data))\r\n      // const res = \"1\";\r\n      const res = await DiscountAPI.update(JSON.stringify(data));\r\n      if (res) {\r\n        alert(\"Update successful\");\r\n      } else {\r\n        alert(\"Something went wrong\");\r\n      }\r\n    } else {\r\n      const res = await DiscountAPI.create(JSON.stringify(data));\r\n      if (res) {\r\n        alert(\"Created\");\r\n      } else {\r\n        alert(\"Something went wrong\");\r\n      }\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    reset(discountData);\r\n  }, [discountData])\r\n  // console.log(discountData);\r\n\r\n  return (\r\n    <div>\r\n      <Modal show={show} onHide={handleClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title> {discountData ? \"Editting Coupon\" : \"Creating Coupon\"} </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form id=\"discount-form\" onSubmit={handleSubmit(onSubmitForm)}>\r\n            {/*  */}\r\n            <Form.Group className=\"mb-3\" controlId=\"formBasic\">\r\n              <Form.Label>ID</Form.Label>\r\n              <Form.Control\r\n                type=\"text\" placeholder=\"Auto\" defaultValue={discountData ? discountData.id : \"\"} {...register(\"id\")} disabled\r\n              />\r\n            </Form.Group>\r\n            {/*  */}\r\n            <Form.Group className=\"mb-3\" controlId=\"formBasic\">\r\n              <Form.Label>割引コード</Form.Label>\r\n              <Form.Control\r\n                type=\"text\" placeholder=\"None\"\r\n                defaultValue={discountData ? discountData.discount_code : \"\"} {...register(\"discount_code\")}\r\n                required\r\n              />\r\n            </Form.Group>\r\n          </Form>\r\n          {/*  */}\r\n          <Form.Group className=\"mb-3\" controlId=\"formBasic\">\r\n            <Form.Label>コード数</Form.Label>\r\n            <Form.Control\r\n              type=\"number\" placeholder=\"0\"\r\n              defaultValue={discountData ? discountData.remaining : \"\"}\r\n              {...register(\"remaining\")}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          {/*  */}\r\n          <Form.Group className=\"mb-3\" controlId=\"formBasic\">\r\n            <Form.Label>割引額</Form.Label>\r\n            <Form.Control\r\n              type=\"text\" placeholder=\"eg. 0.15 (from 0.0-1.0)\"\r\n              defaultValue={discountData ? (parseFloat(discountData.percentage)*100).toFixed(2) : \"\"}\r\n              {...register(\"percentage\")}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          {/*  */}\r\n          <Form.Group className=\"mb-3\" controlId=\"formBasic\">\r\n            <Form.Label>最小額</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"eg. 15000\"\r\n              defaultValue={discountData ? discountData.minimum : \"\"}\r\n              {...register(\"minimum\")}\r\n              required\r\n            />\r\n          </Form.Group>\r\n          {/*  */}\r\n          <Form.Group className=\"mb-3\" controlId=\"formBasic\">\r\n            <Form.Label>開始時間</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"eg. 2020-12-21 07:00:00\"\r\n              defaultValue={discountData ? discountData.start_time : \"\"}\r\n              {...register(\"start_time\")}\r\n              required\r\n            />\r\n            <Form.Label>終了時間</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"eg. 2020-12-21 09:00:00\"\r\n              defaultValue={discountData ? discountData.end_time : \"\"}\r\n              {...register(\"end_time\")}\r\n              required\r\n            />\r\n          </Form.Group>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose}>\r\n            Close\r\n          </Button>\r\n          <Button\r\n            type=\"submit\"\r\n            variant=\"primary\"\r\n            onClick={handleClose}\r\n            form=\"discount-form\"\r\n          >\r\n            Save\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n","import { Card, Row, Col } from 'react-bootstrap';\r\nimport { useHistory } from 'react-router';\r\nimport './RecommendedSection.css';\r\n\r\nconst images = [\r\n\t'https://i.pinimg.com/originals/f7/d7/b4/f7d7b40d4b07ac82625bab743c8f0d03.png',\r\n\t'https://ezipod.my/wp-content/uploads/2019/05/Shops-Laundries-Laundry-Service-Self-Service-Laundry.jpg',\r\n\t'https://i.pinimg.com/originals/64/70/37/64703703487c193d4d855e88f8193fac.jpg',\r\n\t'https://lirp.cdn-website.com/e216b197/dms3rep/multi/opt/3206380e99fd5ed4f71511482be797a0-640w.jpg',\r\n\t'https://discoverormoccity.files.wordpress.com/2017/03/img_2154.jpg?w=900'\r\n]\r\nconst names = [\r\n\t'w😲w LAUNDRY !',\r\n\t'Secret Sauce - Laundry',\r\n\t'Naruto Laundry',\r\n\t'Lightning Washing ⚡',\r\n\t'青空ランドリー',\r\n]\r\nconst descs = [\r\n\t'信じられないほど速い、信じられないほどきれい、信じられないほど安い!!',\r\n\t'専用の自家製洗剤を使ったランドリー。 汚れは私たちの洗浄力に耐えることができません!',\r\n\t'螺旋丸の力で洗う！',\r\n\t'帯電した水で洗い、バクテリアを取り除きます⚡⚡！',\r\n\t'シンプル。高速。Tran Xuan Phuc様の大好きなランドリーショップ。',\r\n]\r\nfunction getShop() {\r\n\tlet shops = []\r\n\tfor (let i = 0; i < names.length; i++) {\r\n\t\tshops.push(\r\n\t\t\t{\r\n\t\t\t\tname: names[i],\r\n\t\t\t\tdescription: descs[i],\r\n\t\t\t\timgsrc: images[i],\r\n\t\t\t\tshop_id: i+1,\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\treturn shops;\r\n}\r\n\r\nfunction Recommendation({shop}) {\r\n\tconst {name, description, imgsrc, shop_id} = shop;\r\n\tlet history = useHistory();\r\n\tconst onCardClick = (e) => {\r\n\t\tlet path = '/shop/';\r\n\t\thistory.push({\r\n\t\t\tpathname: path+shop_id,\r\n\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Card onClick={onCardClick} style={{ 'maxHeight': '20vh', 'overflow': 'hidden', 'cursor': 'pointer' }}>\r\n\t\t\t<Card.Img variant=\"top\" src={imgsrc}/>\r\n\t\t\t<Card.ImgOverlay>\r\n\t\t\t\t<Card.Title>{name}</Card.Title>\r\n\t\t\t\t<Card.Text>\r\n\t\t\t\t\t{description}\r\n\t\t\t\t</Card.Text>\r\n\t\t\t</Card.ImgOverlay>\r\n\t\t</Card>\r\n\t);\r\n}\r\n\r\nfunction RecommendedSection() {\r\n\tconst shops = getShop();\r\n\treturn (\r\n\t\t<Card className='recommended-section-container'>\r\n\t\t\t<Card.Header>人気の店舗</Card.Header>\r\n\t\t\t<Card.Body id='scroll-bar-style'>\r\n\t\t\t\t<Row xs={2} md={3} className=\"g-4\">\r\n\t\t\t\t\t{ shops.map((shop, idx) => \r\n\t\t\t\t\t\t<Col md={idx === 0 ? 8 : -1} key={`rcm-sc-cn-${idx}`}>\r\n\t\t\t\t\t\t\t<Recommendation shop={shop}/>\r\n\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t)} \r\n\t\t\t\t</Row>\r\n\t\t\t\t<div className='see-more-box'>\r\n\t\t\t\t\t<a href='https://example.org/'>See more...</a>\r\n\t\t\t\t</div>\r\n\t\t\t</Card.Body>\r\n\t\t</Card>\r\n\t);\r\n}\r\nexport default RecommendedSection;","import { Card, Row } from 'react-bootstrap';\r\nimport './PickSection.css';\r\n\r\nconst locations = [\r\n\t{name: 'Liên Chiểu', count: 30},\r\n\t{name: 'Hải Châu', count: 50},\r\n\t{name: 'Hòa Vang', count: 30},\r\n\t{name: 'Ngũ Hành Sơn', count: 20},\r\n\t{name: 'Sơn Trà', count: 20},\r\n\t{name: 'Thanh Khê', count: 10},\r\n\t{name: 'Cẩm Lệ', count: 5},\r\n]\r\n\r\nfunction Choice({loc}) {\r\n\tconst {name, count} = loc;\r\n\treturn (\r\n\t\t<div className='pick-choice'>\r\n\t\t\t<span className='choice-name'>{name}</span>\r\n\t\t\t<span className='shop-count'>{count} 店舗</span>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nfunction PickSection() {\r\n\treturn (\r\n\t\t<Card className='pick-section-container' >\r\n\t\t\t<Card.Header>場所から選ぶ</Card.Header>\r\n\t\t\t<Card.Body id='scroll-bar-style'>\r\n\t\t\t\t<div className='pick-choice-wrapper' style={{marginBottom:'50px'}}>\r\n\t\t\t\t\t<Row xs={5} md={2} className=\"g-4\">\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlocations.map((loc, idx) => (\r\n\t\t\t\t\t\t\t\t<Choice loc={loc} key={`p-sc-cn-${idx}`}/>\r\n\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t</Row>\r\n\t\t\t\t</div>\r\n\t\t\t</Card.Body>\r\n\t\t</Card>\r\n\t);\r\n}\r\nexport default PickSection;","import { Container } from 'react-bootstrap';\r\nimport './FrontPage.css';\r\nimport RecommendedSection from './subcomponent/RecommendedSection';\r\nimport PickSection from './subcomponent/PickSection';\r\n\r\nfunction FrontPage() {\r\n\treturn (\r\n\t\t<Container className='page-container'>\r\n\t\t\t<RecommendedSection/>\r\n\t\t\t<PickSection/>\r\n\t\t</Container>\r\n\t);\r\n}\r\nexport default FrontPage;","import { createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const itemListSlice = createSlice({\r\n  name: \"itemList\",\r\n  initialState: {\r\n    shopName: \"\",\r\n    item: {},\r\n    loading: false,\r\n  },\r\n  reducers: {\r\n    addToCart: (state, action) => {\r\n      if (state.item[action.payload.item_id] === undefined) {\r\n        state.item[action.payload.item_id] = {\r\n          detail: action.payload,\r\n          count: 1,\r\n        };\r\n      } else state.item[action.payload.item_id].count += 1;\r\n      // state.item = [...state.item, action.payload];\r\n    },\r\n    removeCart: (state, action) => {\r\n      state.item = {}\r\n    },\r\n    getShopName: (state, action) => {\r\n      state.shopName = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { addToCart, getShopName, removeCart } = itemListSlice.actions;\r\n\r\nexport const itemListSelector = (state) => state.itemList;\r\n","import { useState, useEffect } from \"react\";\r\nimport { Button, Table } from \"react-bootstrap\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { itemListSelector } from \"../../../../store\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ITEM_IN_CART, APPLIED_COUPON, SHOP_INFO } from \"../../../../const/local-storage-key\";\r\n\r\nimport { DiscountAPI } from \"../../../../api/discount\"\r\n\r\nimport \"./order-item.scss\";\r\nexport function OrderItem(props) {\r\n  // Fix case where OrderItem is in another form, which is invalid HTML\r\n  // console.log(\"Outer:\", props);\r\n  return (\r\n    <form action=\"\" className=\"order-list\">\r\n      <OrderItemInner props={props} />\r\n    </form>\r\n  );\r\n}\r\n\r\nexport function OrderItemInner(props) {\r\n  const { closeNextButton, shopId } = (props.props ? props.props : props);\r\n  const addToCartItem = useSelector(itemListSelector);\r\n  const [orderItemList, setItemOrderList] = useState([]);\r\n  const [totalAmmount, setTotalAmmount] = useState(0.0);\r\n  const [origTotalAmmount, setOTA] = useState(0.0);\r\n\r\n  const tmp_coupon = (localStorage.getItem(APPLIED_COUPON) ? \r\n    JSON.parse(localStorage.getItem(APPLIED_COUPON)) :\r\n    {percentage: 0.0});\r\n  const [coupon, setCoupon] = useState( tmp_coupon );\r\n  const [discountCode, setDiscountCode] = useState( tmp_coupon.discount_code ?? \"\" );\r\n\r\n  const checkDiscountCode = async () => {\r\n    if (! discountCode) {\r\n      alert(\"Please input a coupon code\");\r\n      return false;\r\n    }\r\n    const res = await DiscountAPI.get(discountCode, origTotalAmmount);\r\n    if (res && res.data && res.data.length > 0) {\r\n      setCoupon(res.data[0]);\r\n      alert(\"Applying Coupon [\"+res.data[0].discount_code+\"]\");\r\n      return true;\r\n    } else {\r\n      alert(\"No valid Coupon\");\r\n      return false;\r\n    }\r\n  }\r\n\r\n  //\r\n  useEffect(() => {\r\n    setItemOrderList(Object.keys(addToCartItem.item));\r\n    let total = 0;\r\n    for (let key of Object.keys(addToCartItem.item)) {\r\n      const tmp = addToCartItem.item[key];\r\n      if (!isNaN(parseFloat(tmp.detail.item_price)))\r\n        total += tmp.count * parseFloat(tmp.detail.item_price);\r\n    }\r\n    setOTA(total);\r\n    if (coupon.percentage > 0.0) {\r\n      total *= (1 - coupon.percentage);\r\n    }\r\n    setTotalAmmount(total);\r\n  }, [addToCartItem, coupon]);\r\n\r\n  function saveChoosenItem() {\r\n    localStorage.setItem(ITEM_IN_CART, JSON.stringify(addToCartItem.item));\r\n    localStorage.setItem(APPLIED_COUPON, JSON.stringify(coupon));\r\n    localStorage.setItem(SHOP_INFO, JSON.stringify({shop_id : shopId}));\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Table\r\n        borderless\r\n        hover\r\n        responsive\r\n        style={{ borderBottom: \"1px solid black\" }}\r\n      >\r\n        <thead>\r\n          {orderItemList.length > 0 ? (\r\n            <tr>\r\n              <th>サービス名</th>\r\n              <th>価格</th>\r\n              <th>数量</th>\r\n            </tr>\r\n          ) : (\r\n            <></>\r\n          )}\r\n        </thead>\r\n        <tbody>\r\n          {orderItemList.length > 0 &&\r\n            orderItemList.map((element) => (\r\n              <tr key={element}>\r\n                <td>\r\n                  <p className=\"description\">\r\n                    {addToCartItem.item[element].detail.item_name}\r\n                  </p>\r\n                </td>\r\n                <td id=\"price\" className=\"currency_vnd\">\r\n                  {addToCartItem.item[element].detail.item_price}\r\n                </td>\r\n                <td>\r\n                  <div className=\"counter\">\r\n                    <input\r\n                      id=\"qty\"\r\n                      value={addToCartItem.item[element].count}\r\n                      disabled\r\n                    />\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          <tr>\r\n            <td colSpan=\"2\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"sale-code-input input\"\r\n                placeholder=\"割引コード\"\r\n                value={discountCode}\r\n                onChange={(e) => setDiscountCode(e.target.value)}\r\n                required\r\n              />\r\n            </td>\r\n            <td>\r\n              <Button variant=\"secondary\"\r\n                onClick={(e) => checkDiscountCode()}\r\n              >OK</Button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </Table>\r\n      {orderItemList.length === 0 ? (\r\n        <p>現在カートにアイテムはありません</p>\r\n      ) : (\r\n        <>\r\n          <div className=\"order-quantity\">\r\n            <>\r\n              <span className=\"order-quantity__label\">総量</span>\r\n              <span className=\"order-quantity__value currency_vnd\">\r\n                {totalAmmount.toFixed(2)}\r\n              </span>\r\n              { coupon.percentage > 0.0 ?\r\n                <span className=\"order-quantity__coupon-off\">\r\n                  {`(-${(coupon.percentage*100).toFixed(2)}%)`}\r\n                </span>\r\n                :\r\n                <></>\r\n              }\r\n\r\n              { coupon.percentage > 0.0 ?\r\n                <p className=\"order-quantity__coupon-msg\"\r\n                >Currently using [{coupon.discount_code}] coupon</p> \r\n                : <></> \r\n              }\r\n            </>\r\n          </div>\r\n          {!closeNextButton && (\r\n            <>\r\n            <Link\r\n              to={`/payment/`}\r\n              onClick={() => saveChoosenItem()}\r\n              className=\"submit-btn-row\"\r\n            >\r\n              <Button variant=\"secondary\" type=\"submit\" className=\"submit-btn\">\r\n                Next\r\n              </Button>\r\n            </Link>\r\n            </>\r\n          )}\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import { Accordion } from \"react-bootstrap\";\r\nimport \"./shop-feedback-detail.scss\";\r\n\r\nexport function ShopFeedbackDetail(props) {\r\n  const { user_name, item_name, when, rating, content } = props.feedBack;\r\n  return (\r\n    <>\r\n      <div className=\"feedback-detail\">\r\n        <div className=\"table-header\">\r\n          <ul className=\"responsive-table\">\r\n            <li className=\"table-header\">\r\n              <div className=\"col col-1\">顧客名: {user_name}</div>\r\n              <div className=\"col col-2\">アイテム: {item_name} </div>\r\n              <div className=\"col col-3\">時間: {when}</div>\r\n              <div className=\"col col-4\">レーティング: {rating}</div>\r\n            </li>\r\n            <li className=\"table-row\">\r\n              <div className=\"table-content\">\r\n                {content}\r\n                {/* <Accordion>\r\n                  <Accordion.Item eventKey=\"1\">\r\n                    <Accordion.Header> フィードバックの内容</Accordion.Header>\r\n                    <Accordion.Body>{content}</Accordion.Body>\r\n                  </Accordion.Item>\r\n                </Accordion> */}\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport { ShopFeedbackDetail } from \"./shop-feedback-detail/\";\r\n\r\nimport \"./shop-feedback.scss\";\r\nexport function ShopFeedback() {\r\n  const [feedBack, setFeedback] = useState([\r\n    {\r\n      user_name: \"txphuc\",\r\n      item_name: \"普通洗濯\",\r\n      when: \"12:00 pm\",\r\n      rating: 7,\r\n      content: \"とても速くてとてもきれいです、また戻ってきます。\",\r\n    },\r\n    {\r\n      user_name: \"pvtanh\",\r\n      item_name: \"色がなくなる洗濯\",\r\n      when: \"15:09 pm\",\r\n      rating: 6,\r\n      content:\r\n        \"私は今、たくさんの白いシャツを持っています。 ショップありがとうございます。\",\r\n    },\r\n    {\r\n      user_name: \"ntd70\",\r\n      item_name: \"普通洗濯\",\r\n      when: \"08:31 pm\",\r\n      rating: 10,\r\n      content:\r\n        \"とても良いサービス。 今年は現在70歳以上ですが、こんなものは見たことがありません。\",\r\n    },\r\n  ]);\r\n  return (\r\n    <div>\r\n      <div className=\"feedback-header\">フィードバック</div>\r\n      <div className=\"feedback-detail-container\">\r\n        {feedBack.map((item, index) => (\r\n          <ShopFeedbackDetail key={index} feedBack={item} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import axiosClient from \"../axios-client\";\r\nimport queryString from \"query-string\";\r\n\r\nexport const QueryShop = {\r\n  list: () => {\r\n    const url = `${process.env.REACT_APP_API_SERVER}/shop`;\r\n    return axiosClient.get(url);\r\n  },\r\n  item: ({ id }) => {\r\n    const url = `${process.env.REACT_APP_API_SERVER}/shop/${id}`;\r\n    return axiosClient.get(url);\r\n  },\r\n};\r\n\r\nexport const CommandShopAvatar = {\r\n  avatar: (data, id) => {\r\n    const token = localStorage.getItem(\"TOKEN\");\r\n    let config = {\r\n      headers: {\r\n        Authorization: token,\r\n      },\r\n    };\r\n    const url = `${process.env.REACT_APP_API_SERVER}/shop-pic/${id}`;\r\n    return axiosClient.post(url, data, config);\r\n  },\r\n};\r\n","import { useState, useEffect } from \"react\";\r\nimport { AiOutlineUser, AiOutlineUpload } from \"react-icons/ai\";\r\nimport { Card, Form } from \"react-bootstrap\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\nimport { AiFillSave } from \"react-icons/ai\";\r\nimport {MdOutlineChangeCircle} from 'react-icons/md'\r\nimport { CommandShopAvatar } from \"../../../../api/shop\";\r\nimport \"./shop-info.scss\";\r\n\r\n\r\nexport function ShopInfo(props) {\r\n  var userData = JSON.parse(localStorage.getItem(\"signed_in_user_data\")) || null; // TODO what if userData is null?\r\n  if (userData){\r\n    userData = userData.data.user\r\n  }\r\n\r\n  const shop_info = props.Information;\r\n  const [avatar, setAvatar] = useState(null);\r\n  const [selectFile, setSelectFile] = useState();\r\n\r\n  useEffect(() => {\r\n    if (shop_info) {\r\n      setAvatar(shop_info.shop_profile_pic);\r\n    }\r\n  }, [shop_info]);\r\n\r\n\r\n  const onChangeUploadFile = (e) => {\r\n    setSelectFile(e.target.files[0]);\r\n  };\r\n\r\n  const handleUploadFile = () => {\r\n    if (selectFile) {\r\n      const formData = new FormData();\r\n      formData.append(\"shop_pic\", selectFile);\r\n      const updateAvatar = async () => {\r\n        const response = await CommandShopAvatar.avatar(formData, shop_info.id);\r\n        if (response) {\r\n          setAvatar(response.data);\r\n          setSelectFile(null);\r\n          window.location.reload();\r\n        }\r\n      };\r\n      updateAvatar();\r\n    } else {\r\n      alert(\"Please select an image file\");\r\n      return false;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"shop-infor-container\">\r\n      <div className=\"avatar-container\">\r\n        <Card className=\"profile-pic clear-fix\">\r\n          <Card.Img\r\n            src={`${process.env.REACT_APP_API_SERVER}/profile-pic/${avatar}`}\r\n          />\r\n        </Card>\r\n        {\r\n          userData && (userData.role === 'admin' || userData.id === shop_info.user_id) \r\n          &&\r\n          <Form className=\"profile-pic-controll\">\r\n            <label htmlFor=\"apply\" className=\"avatar-btn\">\r\n              <input\r\n                type=\"file\"\r\n                name=\"\"\r\n                id=\"apply\"\r\n                accept=\"image/*\"\r\n                key={\"file-upload\" + (selectFile || \"none\")}\r\n                onChange={(e) => onChangeUploadFile(e)}\r\n              />\r\n              {selectFile?<MdOutlineChangeCircle/>:<BsUpload/>}\r\n            </label>\r\n            {\r\n              selectFile &&\r\n              <label htmlFor=\"submitbtn\" className=\"avatar-btn\">\r\n                <input\r\n                  id=\"submitbtn\"\r\n                  type=\"button\"\r\n                  onClick={() => handleUploadFile()}\r\n                />\r\n                <AiFillSave />\r\n              </label>\r\n            }\r\n          </Form>\r\n        }\r\n      </div>\r\n      {/* shop information panel */}\r\n      <div className=\"shop-info\">\r\n        <div className=\"shop-info-name\">{shop_info.shop_name}</div>\r\n        <hr />\r\n        <div className=\"shop-info-details\">\r\n          {[\r\n            [\"shop_address\", \"ショップ住所\"],\r\n            [\"working_time\", \"労働時間\"],\r\n            [\"shop_detail\", \"ショップ説明\"],\r\n            [\"follower\", \"フォロワー数\"],\r\n            [\"rating\", \"レーティング\"],\r\n          ].map((item, index) => (\r\n            <div className=\"shop-info__body\" key={`\"shop-information-inline-${index}`}>\r\n              <div className=\"shop-info__title\">{item[1]}</div>\r\n              <div className=\"shop-info__content\">\r\n                {render_shop_info(shop_info[item[0]])}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction render_shop_info(data) {\r\n  if (!data)\r\n    return (\r\n      <span style={{ fontStyle: \"italic\", color: \"lightgray\" }}>利用不可</span>\r\n    );\r\n  if (typeof data !== \"object\") return <span>{data}</span>;\r\n\r\n  return (\r\n    <ul>\r\n      {Object.keys(data).map((key) => (\r\n        <li>\r\n          {capitalize(key)}: {data[key]}\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nfunction capitalize(string) {\r\n  return string.charAt(0).toUpperCase() + string.slice(1);\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport \"./shop-item.scss\";\r\nexport function ShopItem(props) {\r\n  const { shopId, categoryItem, handleFetchItem } = props;\r\n  // console.log(\"Shop-item@\", categoryItem)\r\n\r\n  const [category, setCategory] = useState([\r\n    {\r\n      id: 0,\r\n      shop_id: 1,\r\n      category_name: \"Normal Clothes\",\r\n    },\r\n    {\r\n      id: 1,\r\n      shop_id: 1,\r\n      category_name: \"Sneaker\",\r\n    },\r\n    {\r\n      id: 2,\r\n      shop_id: 1,\r\n      category_name: \"Jean\",\r\n    },\r\n  ]);\r\n  const [isLoading, setIsloading] = useState(false);\r\n  const handleCategoryId = (categoryId) => {\r\n    if (handleFetchItem) {\r\n      handleFetchItem(categoryId);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    try {\r\n      setCategory(categoryItem);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  }, [shopId]);\r\n  return (\r\n    <>\r\n      {!isLoading &&\r\n        category.map((item, index) => (\r\n          <div\r\n            key={index}\r\n            className=\"category-title\"\r\n            onClick={() => handleCategoryId(item.category_id)}\r\n          >\r\n            {item.category_name}\r\n          </div>\r\n        ))}\r\n    </>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { Accordion } from \"react-bootstrap\";\r\nimport { AiOutlinePlus } from \"react-icons/ai\";\r\nimport { Spinner } from \"react-bootstrap\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { itemListSelector, addToCart } from \"../../../../../store\";\r\n\r\nimport \"./shop-item-detail.scss\";\r\n\r\nfunction getItemById(itemList, itemId) {\r\n  const res = itemList.filter((i) => {\r\n    return i.item_id == itemId;\r\n  });\r\n  return res[0];\r\n}\r\nexport function ShopItemDetail(props) {\r\n  // console.log(\"Shop-Item-Detail@\", props)\r\n  const { categoryId, categoryItem } = props;\r\n  const [itemList, setItemList] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const itemInCart = useSelector(itemListSelector);\r\n\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if (categoryItem)\r\n      setItemList(categoryItem.items);\r\n  }, [categoryId]);\r\n\r\n  function addItem(itemId) {\r\n    const chossenItem = getItemById(categoryItem.items, itemId);\r\n    dispatch(addToCart(chossenItem));\r\n  }\r\n\r\n  // console.log(\"Shop-Item-Detail@\", props)\r\n\r\n  return (\r\n    <div className=\"item-list-container\">\r\n      {isLoading ? (\r\n        <div className=\"spinner\">\r\n          <Spinner animation=\"border\" role=\"status\">\r\n            <span className=\"visually-hidden\">Loading...</span>\r\n          </Spinner>\r\n        </div>\r\n      ) : (\r\n          itemList.length === 0\r\n          ?\r\n          <>\r\n            <div className=\"item-list-header\">\r\n              <p>カテゴリ {categoryId}</p>\r\n            </div>\r\n            <div className=\"item-list__card-empty\">\r\n              このカテゴリはアイテムがありません\r\n            </div>\r\n          </>\r\n          :\r\n          <>\r\n            <div className=\"item-list-header\">\r\n              <p>カテゴリ {categoryId}</p>\r\n            </div>\r\n            <div className=\"item-list__card\">\r\n              {itemList.map((item, index) => (\r\n                <div key={index} className=\"item-card\">\r\n                  <div className=\"left\">\r\n                    <div className=\"card-info\">\r\n                      <h2>{item.item_name}</h2>\r\n                    </div>\r\n                    <Accordion className=\"card-content\">\r\n                      <Accordion.Item eventKey=\"0\">\r\n                        <Accordion.Header>説明</Accordion.Header>\r\n                        <Accordion.Body>\r\n                          {item.item_detail}\r\n                        </Accordion.Body>\r\n                      </Accordion.Item>\r\n                    </Accordion>\r\n                    <div className=\"card-price\">\r\n                      <span className=\"item-price-trans\">Price:</span>\r\n                      <span className=\"item-price currency_vnd\"> {item.item_price} </span>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"right\" onClick={() => addItem(item.item_id)}>\r\n                    <div>\r\n                      <AiOutlinePlus className=\"plus-icon\" />\r\n                      <p>追加</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// const DATA = [\r\n//   [\r\n//     {\r\n//       item_name: \"Giặt đặc biệt\",\r\n//       item_price: \"69,000 VNĐ\",\r\n//     },\r\n//   ],\r\n//   [\r\n//     {\r\n//       item_name: \"Giặt nhẹ\",\r\n//       item_price: \"10,000 VNĐ\",\r\n//     },\r\n//     {\r\n//       item_name: \"Giặt vừa\",\r\n//       item_price: \"15,000 VNĐ\",\r\n//     },\r\n//   ],\r\n//   [\r\n//     {\r\n//       item_name: \"Giặt tất 1 chiéc\",\r\n//       item_price: \"5,000 VNĐ\",\r\n//     },\r\n//     {\r\n//       item_name: \"Giặt tất 3 chiếc\",\r\n//       item_price: \"13,000 VNĐ\",\r\n//     },\r\n//   ],\r\n// ];\r\n","import axiosClient from \"../axios-client\";\r\nimport queryString from \"query-string\";\r\n\r\nexport const QueryCategory = {\r\n  list: ({ shopId }) => {\r\n    const url = `${process.env.REACT_APP_API_SERVER}/category?shop_id=${shopId}`;\r\n    return axiosClient.get(url);\r\n  },\r\n  item: ({ id }) => {\r\n    const url = `${process.env.REACT_APP_API_SERVER}/category/${id}`;\r\n    return axiosClient.get(url);\r\n  },\r\n};\r\n","import axiosClient from \"../axios-client\";\r\n\r\nexport const QueryProfile = {\r\n  userProfile: () => {\r\n    const token = localStorage.getItem(\"TOKEN\");\r\n    let config = {\r\n      headers: {\r\n        Authorization: token,\r\n      },\r\n    };\r\n    const url = `${process.env.REACT_APP_API_SERVER}/profile`;\r\n    return axiosClient.get(url, config);\r\n  },\r\n};\r\n\r\nexport const CommandProfile = {\r\n  avatar: (data) => {\r\n    const token = localStorage.getItem(\"TOKEN\");\r\n    let config = {\r\n      headers: {\r\n        Authorization: token,\r\n      },\r\n    };\r\n    const url = `${process.env.REACT_APP_API_SERVER}/profile-pic`;\r\n    return axiosClient.post(url, data, config);\r\n  },\r\n\r\n  profile: (data) => {\r\n    const token = localStorage.getItem(\"TOKEN\");\r\n    let config = {\r\n      headers: {\r\n        Authorization: token,\r\n      },\r\n    };\r\n    const url = `${process.env.REACT_APP_API_SERVER}/profile`;\r\n    return axiosClient.put(url, data, config);\r\n  },\r\n};\r\n","import { QueryCategory } from \"./category\";\r\nimport { QueryShop } from \"./shop\";\r\nimport { QueryItem } from \"./item\";\r\nimport { QueryProfile } from \"./account/profile\";\r\nexport const Query = {\r\n  shop: QueryShop,\r\n  category: QueryCategory,\r\n  item: QueryItem,\r\n  profile: QueryProfile,\r\n};\r\n","import { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { ShopItem, ShopInfo, ShopItemDetail, ShopFeedback, OrderItem } from \"./\";\r\nimport { Query } from \"../../api/query-api\";\r\nimport { Spinner } from \"react-bootstrap\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { getShopName } from \"../../store/itemSlice\";\r\nimport \"./shop.scss\";\r\n\r\nexport default function Shop() {\r\n  const { id } = useParams();\r\n  //mock_data\r\n  const [shopInfor, setShopInfo] = useState({});\r\n  const [isLoading, setIsloading] = useState(true);\r\n  const [categoryId, setCategoryId] = useState(null);\r\n  const dispatch = useDispatch();\r\n\r\n  let cateIdToIdxMap = {};\r\n\r\n  useEffect(() => {\r\n    const fetchShop = async () => {\r\n      try {\r\n        const response = await Query.shop.item({ id });\r\n        if (response) {\r\n          setShopInfo(response.data);\r\n          setIsloading(false);\r\n          dispatch(getShopName(response.data.shop_name));\r\n\r\n          cateIdToIdxMap = {}\r\n          // console.log(shopInfor.categories)\r\n          shopInfor.categories.forEach( (cate, indx) => {\r\n            // console.log(indx, cate.category_id)\r\n            cateIdToIdxMap[cate.category_id] = indx; \r\n          });\r\n        }\r\n      } catch (error) {\r\n        // console.log(error);\r\n        console.log(\"Shop@Fetch failed.\");\r\n      }\r\n    };\r\n    fetchShop();\r\n  }, []);\r\n\r\n  const handleFetchItem = (categoryId) => {\r\n    setCategoryId(categoryId);\r\n  };\r\n  // console.log('Shop@', shopInfor.categories)\r\n  // console.log('Shop@', cateIdToIdxMap)\r\n  return (\r\n    <div className=\"\">\r\n      {isLoading ? (\r\n        <div className=\"spinner\">\r\n          <Spinner animation=\"border\" role=\"status\">\r\n            <span className=\"visually-hidden\">Loading...</span>\r\n          </Spinner>\r\n        </div>\r\n      ) : (\r\n        <div className=\"shop-container\">\r\n          <div className=\"left-panel\">\r\n            <ShopInfo Information={shopInfor} />\r\n            <div className=\"shop-item\">\r\n              <div className=\"shop-item__title\">\r\n                <ShopItem\r\n                  shopId={shopInfor.id}\r\n                  categoryItem={shopInfor.categories}\r\n                  handleFetchItem={handleFetchItem}\r\n                />\r\n              </div>\r\n              {categoryId ? (\r\n                <div className=\"shop-item__detail\">\r\n                  <ShopItemDetail\r\n                    categoryId={categoryId}\r\n                    categoryItem={shopInfor.categories.find( (cate) => { return cate.category_id === categoryId; })}\r\n                  />\r\n                </div>\r\n              ) : (\r\n                <div className=\"shop-item__none-selected\">\r\n                  ← カテゴリを1つ選択してください\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"shop-feedback\">\r\n              <ShopFeedback />\r\n            </div>\r\n          </div>\r\n          <div className=\"right-panel\">\r\n            <div className=\"right-panel-header\">ご注文</div>\r\n            <div>\r\n              <OrderItem closeNextButton={false} shopId={id} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./ProfileInformation.css\";\r\n\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Card, Form, Row, Col } from \"react-bootstrap\";\r\n\r\nimport \"react-phone-number-input/style.css\";\r\n// import PhoneInput from \"react-phone-number-input\";\r\nimport { CommandProfile } from \"../../../api/account/profile\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nfunction ProfileInformation(props) {\r\n  const { user, handleUpdateProfile } = props;\r\n  const userInfor = user.info;\r\n  // console.log(userInfor);\r\n  let history = useHistory();\r\n\r\n  const [email, setEmail] = useState(userInfor.email || null);\r\n  const [name, setName] = useState(userInfor.name || null);\r\n  const [address, setAddress] = useState(userInfor.address || null);\r\n  const [birthday, setBirthday] = useState(userInfor.birthday || null);\r\n  const [phoneNum, setPhoneNum] = useState(userInfor.phone_number || null);\r\n  const { register, handleSubmit } = useForm();\r\n\r\n  const onSubmit = (data) => {\r\n    const updateProfile = async () => {\r\n      try {\r\n        const response = await CommandProfile.profile(data);\r\n        if (response) {\r\n          handleUpdateProfile(response.data);\r\n        }\r\n      } catch (error) {\r\n        console.log(\"Put profile fail\");\r\n      }\r\n    };\r\n    updateProfile();\r\n    // history.push('/profile')\r\n    window.location.href='/profile';\r\n  };\r\n\r\n  return (\r\n    <Card className=\"user-information-container\">\r\n      <Card.Header>\r\n        <Card.Title>情報</Card.Title>\r\n      </Card.Header>\r\n      <Card.Body>\r\n        <Form\r\n          onSubmit={handleSubmit(onSubmit)}\r\n          className=\"user-information-form\"\r\n        >\r\n          <Row>\r\n            <Col xs={3}>\r\n              <Form.Label>メールアドレス</Form.Label>\r\n            </Col>\r\n            <Col xs={9}>\r\n              <Form.Control\r\n                type=\"email\"\r\n                defaultValue={email}\r\n                // onChange={(e) => {\r\n                //   setEmail(e.target.value);\r\n                // }}\r\n                {...register(\"email\")}\r\n              ></Form.Control>\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col xs={3}>\r\n              <Form.Label>名前</Form.Label>\r\n            </Col>\r\n            <Col xs={9}>\r\n              <Form.Control\r\n                type=\"text\"\r\n                defaultValue={name}\r\n                // onChange={(e) => {\r\n                //   setUsername(e.target.value);\r\n                // }}\r\n                {...register(\"name\")}\r\n              ></Form.Control>\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col xs={3}>\r\n              <Form.Label>住所</Form.Label>\r\n            </Col>\r\n            <Col xs={9}>\r\n              <Form.Control\r\n                type=\"text\"\r\n                defaultValue={address}\r\n                // onChange={(e) => {\r\n                //   setAddress(e.target.value);\r\n                // }}\r\n                {...register(\"address\")}\r\n              ></Form.Control>\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col xs={3}>\r\n              <Form.Label>生年月日</Form.Label>\r\n            </Col>\r\n            <Col xs={9}>\r\n              <Form.Control\r\n                type=\"date\"\r\n                defaultValue={birthday}\r\n                // onChange={(e) => {\r\n                //   setBirthday(e.target.value);\r\n                // }}\r\n                {...register(\"birthday\")}\r\n              ></Form.Control>\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col xs={3}>\r\n              <Form.Label>電話番号</Form.Label>\r\n            </Col>\r\n            <Col xs={9}>\r\n              <Form.Control\r\n                placeholder=\"Enter your Phone Number\"\r\n                defaultValue={phoneNum}\r\n                // value={phoneNum}\r\n                // onChange={setPhoneNum}\r\n                {...register(\"phone_number\")}\r\n              ></Form.Control>\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col>\r\n              <Button className=\"form-submit-btn\" type=\"submit\">\r\n                変更\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </Form>\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default ProfileInformation;\r\n","import { useState } from \"react\";\r\nimport { Card, Form } from \"react-bootstrap\";\r\nimport { CommandProfile } from \"../../../api/account/profile\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\nimport { AiFillSave } from \"react-icons/ai\";\r\nimport { MdOutlineChangeCircle } from \"react-icons/md\";\r\nimport \"./ProfileHeader.css\";\r\n\r\nfunction ProfileHeader(props) {\r\n  const { user } = props;\r\n  console.log(user);\r\n  const [avatar, setAvatar] = useState(profile.img);\r\n  const [selectFile, setSelectFile] = useState();\r\n\r\n  // console.log(\"ProfileHeader\", selectFile);\r\n\r\n  const onChangeUploadFile = (e) => {\r\n    setSelectFile(e.target.files[0]);\r\n  };\r\n\r\n  const handleUploadFile = () => {\r\n    if (selectFile) {\r\n      const formData = new FormData();\r\n      formData.append(\"profile_pic\", selectFile);\r\n      const updateAvatar = async () => {\r\n        const response = await CommandProfile.avatar(formData);\r\n        if (response) {\r\n          setAvatar(response.data);\r\n          setSelectFile(null);\r\n          window.location.reload();\r\n        }\r\n      };\r\n      updateAvatar();\r\n    } else {\r\n      alert(\"Please select an image file\");\r\n      return false;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card className=\"profile-header-container\">\r\n      <Card.Body className=\"profile-header\">\r\n        <Card className=\"profile-pic clear-fix\">\r\n          <Card.Img\r\n            src={`${process.env.REACT_APP_API_SERVER}/profile-pic/${user.info.profile_pic}`}\r\n          />\r\n          <Card.Title>{user.info.nickname}</Card.Title>\r\n        </Card>\r\n        <Form>\r\n          <label htmlFor=\"apply\" className=\"avatar-btn\">\r\n            <input\r\n              type=\"file\"\r\n              name=\"\"\r\n              id=\"apply\"\r\n              accept=\"image/*\"\r\n              key={\"file-upload\" + (selectFile || \"none\")}\r\n              onChange={(e) => onChangeUploadFile(e)}\r\n            />\r\n            {selectFile ? <MdOutlineChangeCircle /> : <BsUpload />}\r\n          </label>\r\n          {selectFile && (\r\n            <label htmlFor=\"submitbtn\" className=\"avatar-btn\">\r\n              <input\r\n                id=\"submitbtn\"\r\n                type=\"button\"\r\n                onClick={() => handleUploadFile()}\r\n              />\r\n              <AiFillSave />\r\n            </label>\r\n          )}\r\n        </Form>\r\n        <Card className=\"order-count-section\">\r\n          <Card.Body className=\"order-count-text h1 bg-light\">\r\n            {user.order.length} 📦\r\n          </Card.Body>\r\n          <Card.Title className=\"order-count-title\">総注文数</Card.Title>\r\n        </Card>\r\n        <Card className=\"shop-follow-count-section \">\r\n          <Card.Body className=\"shop-follow-count-text h1 bg-light\">\r\n            {user.following.length} 🏪\r\n          </Card.Body>\r\n          <Card.Title className=\"shop-follow-title\">\r\n            フォローしている店舗数\r\n          </Card.Title>\r\n        </Card>\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default ProfileHeader;\r\n\r\n// const orderIcon = process.env.PUBLIC_URL + \"/images/store.png\";\r\n// // const followShopIcon = process.env.PUBLIC_URL + \"images/follow.png\";\r\n// const ORDER_COUNT = 5;\r\nconst followShopNum = 5;\r\n\r\nconst profile = {\r\n  name: \"Ông tổ giặt ủi\",\r\n  // img: \"https://picsum.photos/200/200\",\r\n  img: \"https://cdn4.iconfinder.com/data/icons/user-people-2/48/6-512.png\",\r\n};\r\n","import './ProfileOrderSection.css'\r\nimport { Card, Table } from \"react-bootstrap\";\r\n\r\nfunction ProfileOrder({ order }) {\r\n  const { id, order_time, total_cost, order_status } = order;\r\n  return (\r\n    <tr onClick={() => {\r\n      alert(`Order Details:\\n - ID=${id}\\n - Order Time: ${order_time}\\n - Total Cost: ${total_cost}\\n - Order Status: ${order_status}\\n - Note: \\n${order.note}`)\r\n    }}>\r\n      <td>{id}</td>\r\n      <td>{(new Date(order_time)).toLocaleString()}</td>\r\n      <td>{!total_cost ? 'NaN' : parseFloat(total_cost).toFixed(2)}</td>\r\n      <td>{order_status}</td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nfunction ProfileOrderSection({ orders }) {\r\n  return (\r\n    <Card className=\"profile-order-container\">\r\n      <Card.Header>\r\n        <Card.Title>注文</Card.Title>\r\n      </Card.Header>\r\n      <Card.Body>\r\n        <Table striped bordered hover size=\"sm\">\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>時間</th>\r\n              <th>合計金額</th>\r\n              <th>注文状態</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {\r\n              orders.length > 0 \r\n                ?\r\n              orders.map((order, idx) => (\r\n                <ProfileOrder key={`profile-order-${idx}`} order={order} />\r\n              ))\r\n                :\r\n              <tr>\r\n                <td colSpan={4}> このユーザーには現在注文がありません </td>\r\n              </tr>\r\n            }\r\n          </tbody>\r\n        </Table>\r\n        {/* <div className='see-more-box'>\r\n\t\t\t\t\t<a href='https://example.org/'>もっと見る</a>\r\n\t\t\t\t</div> */}\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n}\r\nexport default ProfileOrderSection;\r\n","import { useState, useEffect } from \"react\";\r\n\r\nimport ProfileInformation from \"./subcomponent/ProfileInformation\";\r\nimport ProfileHeader from \"./subcomponent/ProfileHeader\";\r\nimport ProfileOrderSection from \"./subcomponent/ProfileOrderSection\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport { Query } from \"../../api/query-api\";\r\n\r\nimport \"./ProfilePage.css\";\r\n\r\nconst userData = JSON.parse(localStorage.getItem(\"signed_in_user_data\")); // TODO what if userData is null?\r\n\r\nfunction ProfilePage() {\r\n  const [userProfile, setUserProfile] = useState();\r\n\r\n  const handleUpdateProfile = (data) => {\r\n    setUserProfile(data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchProfile = async () => {\r\n      try {\r\n        const response = await Query.profile.userProfile();\r\n        if (response) {\r\n          setUserProfile(response.data);\r\n        }\r\n      } catch (error) {\r\n        console.log(\"Fetch profile fail:\", error);\r\n      }\r\n    };\r\n    fetchProfile();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {userProfile && (\r\n        <Container className=\"page-container profile-container scroll-bar-style\">\r\n          <ProfileHeader user={userProfile} />\r\n          <ProfileInformation\r\n            user={userProfile}\r\n            handleUpdateProfile={handleUpdateProfile}\r\n          />\r\n          <ProfileOrderSection orders={userProfile.order} />\r\n        </Container>\r\n      )}\r\n    </>\r\n  );\r\n}\r\nexport default ProfilePage;\r\n","import { Container } from 'react-bootstrap';\r\nimport {Link} from 'react-router-dom';\r\nimport \"./NotFoundPage.css\"\r\n\r\nfunction NotFoundPage() {\r\n\treturn (\r\n\t\t<Container className='page-container not-found'>\r\n\t\t\t<div className=\"notfound\">\r\n\t\t\t\t<div className=\"notfound-404\">\r\n\t\t\t\t<h1>404</h1>\r\n\t\t\t\t</div>\r\n\t\t\t\t<h2>Oops, The Page you are looking for can't be found!</h2>\r\n\t\t\t\t<Link to='/'>Home</Link>\r\n\t\t\t</div>\r\n\t\t</Container>\r\n\t)\r\n}\r\n\r\nexport default NotFoundPage;","import React from \"react\";\r\n// import \"./InfoPage.css\";\r\nconst InfoPage = () => {\r\n  return (\r\n    <div className=\"section section-tabs\">\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-12 ml-auto col-xl-12 mr-auto\">\r\n            {/* Nav tabs */}\r\n            <div className=\"card\">\r\n              <div className=\"container\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-4\">\r\n                    <div className=\"card\" style={{ width: \"20rem\" }}>\r\n                      <div className=\"card-body\">\r\n                        <h4 className=\"card-title\">ショップ写真</h4>\r\n                        <p className=\"card-text\">..</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"col-8\">\r\n                    <div className=\"card-header\">\r\n                      <ul\r\n                        className=\"nav nav-tabs justify-content-center\"\r\n                        role=\"tablist\"\r\n                      >\r\n                        <li className=\"nav-item\">\r\n                          <a\r\n                            className=\"nav-link active\"\r\n                            data-toggle=\"tab\"\r\n                            href=\"#info\"\r\n                            role=\"tab\"\r\n                          >\r\n                            情報\r\n                          </a>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                          <a\r\n                            className=\"nav-link\"\r\n                            data-toggle=\"tab\"\r\n                            href=\"#profile\"\r\n                            role=\"tab\"\r\n                          >\r\n                            サービス\r\n                          </a>\r\n                        </li>\r\n                        <li className=\"nav-item\">\r\n                          <a\r\n                            className=\"nav-link\"\r\n                            data-toggle=\"tab\"\r\n                            href=\"#messages\"\r\n                            role=\"tab\"\r\n                          >\r\n                            注文管理\r\n                          </a>\r\n                        </li>\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"container\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    <div className=\"card-body\">\r\n                      {/* Tab panes */}\r\n                      <div className=\"tab-content text-center\">\r\n                        <div\r\n                          className=\"tab-pane active\"\r\n                          id=\"info\"\r\n                          role=\"tabpanel\"\r\n                        >\r\n                          <form>\r\n                            <div className=\"form-group row\">\r\n                              <label\r\n                                htmlFor={1}\r\n                                className=\"col-sm-2 col-form-label\"\r\n                              >\r\n                                ショップ名{\" \"}\r\n                              </label>\r\n                              <div className=\"col-sm-10\">\r\n                                <input\r\n                                  type=\"text\"\r\n                                  className=\"form-control\"\r\n                                  id={1}\r\n                                  placeholder=\"ショップ名\"\r\n                                />\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"form-group row\">\r\n                              <label\r\n                                htmlFor={2}\r\n                                className=\"col-sm-2 col-form-label\"\r\n                              >\r\n                                ショップ住所{\" \"}\r\n                              </label>\r\n                              <div className=\"col-sm-10\">\r\n                                <input\r\n                                  type=\"text\"\r\n                                  className=\"form-control\"\r\n                                  id={2}\r\n                                  placeholder=\"ショップ住所\"\r\n                                />\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"form-group row\">\r\n                              <label\r\n                                htmlFor={3}\r\n                                className=\"col-sm-2 col-form-label\"\r\n                              >\r\n                                ショップ説明{\" \"}\r\n                              </label>\r\n                              <div className=\"col-sm-10\">\r\n                                <input\r\n                                  type=\"text\"\r\n                                  className=\"form-control\"\r\n                                  id={3}\r\n                                  placeholder=\"ショップ説明\"\r\n                                />\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"form-group row\">\r\n                              <label\r\n                                htmlFor={4}\r\n                                className=\"col-sm-2 col-form-label\"\r\n                              >\r\n                                労働時間{\" \"}\r\n                              </label>\r\n                              <div className=\"col-sm-10\">\r\n                                <input\r\n                                  type=\"text\"\r\n                                  className=\"form-control\"\r\n                                  id={4}\r\n                                  placeholder=\"労働時間\"\r\n                                />\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"form-group row\">\r\n                              <label\r\n                                htmlFor={5}\r\n                                className=\"col-sm-2 col-form-label\"\r\n                                style={{ background: \"#e3e3e3\" }}\r\n                              >\r\n                                オーナー名{\" \"}\r\n                              </label>\r\n                              <div className=\"col-sm-10\">\r\n                                <input\r\n                                  type=\"text\"\r\n                                  className=\"form-control\"\r\n                                  id={5}\r\n                                  placeholder=\"オーナー名\"\r\n                                  readOnly\r\n                                />\r\n                              </div>\r\n                            </div>\r\n                          </form>\r\n                        </div>\r\n                        <div\r\n                          className=\"tab-pane\"\r\n                          id=\"profile\"\r\n                          role=\"tabpanel\"\r\n                        ></div>\r\n                        <div\r\n                          className=\"tab-pane\"\r\n                          id=\"messages\"\r\n                          role=\"tabpanel\"\r\n                        ></div>\r\n                        <button\r\n                          className=\"btn btn-primary\"\r\n                          style={{ float: \"right\" }}\r\n                        >\r\n                          保存{\" \"}\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default InfoPage;\r\n","import axiosClient from \"api/axios-client\";\r\n\r\nexport const CommandOrder = {\r\n  list: (data) => {\r\n    const url = `${process.env.REACT_APP_API_SERVER}/order`;\r\n    const token = localStorage.getItem(\"TOKEN\");\r\n    let config = {\r\n      headers: {\r\n        Authorization: token,\r\n      },\r\n    };\r\n    return axiosClient.post(url, data, config);\r\n  },\r\n};\r\n","import { useHistory } from \"react-router-dom\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { Card, Form, Row, Col } from \"react-bootstrap\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { OrderItemInner } from \"../shop\";\r\nimport { itemListSelector, removeCart } from \"store/itemSlice\";\r\nimport { ITEM_IN_CART, SIGNED_IN_USER, SHOP_INFO, APPLIED_COUPON } from \"../../const/local-storage-key\";\r\nimport { CommandOrder } from \"../../api/order/index\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport \"./payment.scss\";\r\n\r\nexport default function Payment() {\r\n  const { register, handleSubmit } = useForm();\r\n  const [userInformation, setUserInformation] = useState({});\r\n  const addToCartItem = useSelector(itemListSelector);\r\n  const shopState = useSelector(itemListSelector);\r\n  const [shopName, setShopName] = useState(shopState.shopName || \"利用不可\");\r\n  const shopObj = localStorage.getItem(SHOP_INFO) ? JSON.parse(localStorage.getItem(SHOP_INFO)) : null;\r\n  const couponObj = localStorage.getItem(APPLIED_COUPON) ? JSON.parse(localStorage.getItem(APPLIED_COUPON)) : null;\r\n\r\n  let history = useHistory();\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    setUserInformation(\r\n      JSON.parse(localStorage.getItem(SIGNED_IN_USER)).data.user\r\n    );\r\n  }, [JSON.stringify(userInformation)]);\r\n\r\n  const onSubmit = (data) => {\r\n    let newdata = {\r\n      ...data,\r\n      order_details: {\r\n        ...JSON.parse(localStorage.getItem(ITEM_IN_CART)),\r\n      },\r\n    };\r\n    if (shopObj) newdata.shop_id = shopObj.shop_id;\r\n    if (couponObj) newdata.discount_code = couponObj.discount_code;\r\n    console.log(newdata);\r\n\r\n    const sendOrder = async () => {\r\n      try {\r\n        // console.log(\"Payment\", data)\r\n        const response = await CommandOrder.list(newdata);\r\n        if (response) {\r\n          alert(\r\n            \"Thank you for placing order using our service. Please wait, the Shop will contact you shortly.\"\r\n          );\r\n        }\r\n        localStorage.removeItem(SHOP_INFO)\r\n        localStorage.removeItem(APPLIED_COUPON)\r\n        localStorage.removeItem(ITEM_IN_CART)\r\n        history.push(\"/profile\")\r\n        dispatch(removeCart());\r\n      } catch (error) {\r\n        console.error(error)\r\n        alert(\"The order cannot be made. Please contact the Administrator.\");\r\n        // console.log(\"Send Order Failed\");\r\n      }\r\n    };\r\n\r\n    sendOrder();\r\n  };\r\n\r\n  return (\r\n    <div className=\"\">\r\n      <Card className=\"payment-container\">\r\n        <Card.Header>\r\n          <Card.Title>注文確認：</Card.Title>\r\n        </Card.Header>\r\n        <Card.Body>\r\n          <Form onSubmit={handleSubmit(onSubmit)} className=\"payment-form\">\r\n            <Row>\r\n              <Col xs={3}>\r\n                <Form.Label>ショップ名</Form.Label>\r\n              </Col>\r\n              <Col xs={9}>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  defaultValue={shopName}\r\n                  readOnly\r\n                  // onChange={(e) => {\r\n                  //   setUsername(e.target.value);\r\n                  // }}\r\n                  {...register(\"shop_name\")}\r\n                ></Form.Control>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs={3}>\r\n                <Form.Label>顧客名</Form.Label>\r\n              </Col>\r\n              <Col xs={9}>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"お客様の名前を教えてください\"\r\n                  defaultValue={userInformation.name}\r\n                  {...register(\"username\")}\r\n                ></Form.Control>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs={3}>\r\n                <Form.Label>住所</Form.Label>\r\n              </Col>\r\n              <Col xs={9}>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"お客様の住所を教えてください\"\r\n                  defaultValue={\r\n                    userInformation.address &&\r\n                    (userInformation.address.string || \"\")\r\n                  }\r\n                  // onChange={(e) => {\r\n                  //   setBirthday(e.target.value);\r\n                  // }}\r\n                  {...register(\"address\")}\r\n                ></Form.Control>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col xs={3}>\r\n                <Form.Label>電話番号</Form.Label>\r\n              </Col>\r\n              <Col xs={9}>\r\n                <Form.Control\r\n                  placeholder=\"連絡のための電話番号を入力してください\"\r\n                  defaultValue={userInformation.phone_number}\r\n                  // value={phoneNum}\r\n                  // onChange={setPhoneNum}\r\n                  {...register(\"phone_number\")}\r\n                ></Form.Control>\r\n              </Col>\r\n            </Row>\r\n            <br />\r\n            <div className=\"order-item\" style={{ border: \"1px solid black\" }}>\r\n              <h5 style={{ margin: \"auto\", paddingLeft: \"5px\" }}>注文</h5>\r\n              <hr />\r\n              <OrderItemInner closeNextButton={true} />\r\n            </div>\r\n            <br />\r\n            <Row className=\"memo-row\">\r\n              <Col xs={3}>\r\n                <Form.Label>注文メモ</Form.Label>\r\n              </Col>\r\n              <Col xs={9}>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  placeholder=\"...\"\r\n                  // value={phoneNum}\r\n                  // onChange={setPhoneNum}\r\n                  {...register(\"note\")}\r\n                ></Form.Control>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col className=\"submit-btn-col\">\r\n                <Button\r\n                  variant=\"secondary\"\r\n                  className=\"form-submit-btn\"\r\n                  type=\"submit\"\r\n                >\r\n                  完了\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </Form>\r\n        </Card.Body>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport { Link } from 'react-router-dom';\r\nimport { Card, Form } from \"react-bootstrap\";\r\nimport { BsUpload } from \"react-icons/bs\";\r\nimport { AiFillSave } from \"react-icons/ai\";\r\nimport { MdOutlineChangeCircle } from \"react-icons/md\";\r\nimport { CommandProfile } from \"../../../api/account/profile\";\r\nimport \"./sidebar.scss\";\r\n\r\nexport function AdminSidebar(props) {\r\n  const setTab = props.setTab;\r\n  const user = props.user ?? tmpUser;\r\n  console.log(user)\r\n  const [avatar, setAvatar] = useState(profile.img);\r\n  const [selectFile, setSelectFile] = useState();\r\n\r\n  const onChangeUploadFile = (e) => {\r\n    setSelectFile(e.target.files[0]);\r\n  };\r\n\r\n  const handleUploadFile = () => {\r\n    if (selectFile) {\r\n      const formData = new FormData();\r\n      formData.append(\"profile_pic\", selectFile);\r\n      const updateAvatar = async () => {\r\n        const response = await CommandProfile.avatar(formData);\r\n        if (response) {\r\n          setAvatar(response.data);\r\n          setSelectFile(null);\r\n          window.location.reload();\r\n        }\r\n      };\r\n      updateAvatar();\r\n    } else {\r\n      alert(\"Please select an image file\");\r\n      return false;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"admin-sidebar\">\r\n      <div className=\"sidebar-header\">\r\n          <Card className=\"profile-pic clear-fix\">\r\n            <div className=\"admin-profile-section\">\r\n              <Card.Img\r\n                src={`${process.env.REACT_APP_API_SERVER}/profile-pic/${user.profile_pic}`}\r\n              />\r\n              <Form className=\"avatar-upload-form\">\r\n                <label htmlFor=\"apply\" className=\"avatar-btn\">\r\n                  <input\r\n                    type=\"file\"\r\n                    name=\"\"\r\n                    id=\"apply\"\r\n                    accept=\"image/*\"\r\n                    key={\"file-upload\" + (selectFile || \"none\")}\r\n                    onChange={(e) => onChangeUploadFile(e)}\r\n                  />\r\n                  {selectFile ? <MdOutlineChangeCircle /> : <BsUpload />}\r\n                </label>\r\n                {selectFile && (\r\n                  <label htmlFor=\"submitbtn\" className=\"avatar-btn\">\r\n                    <input\r\n                      id=\"submitbtn\"\r\n                      type=\"button\"\r\n                      onClick={() => handleUploadFile()}\r\n                    />\r\n                    <AiFillSave />\r\n                  </label>\r\n                )} \r\n                <span className=\"admin-username\">{user.nickname}</span>\r\n              </Form> \r\n            </div>\r\n          </Card>\r\n      </div>\r\n      <div className=\"sidebar-content\">\r\n        <div\r\n          className=\"nav flex-column nav-pills\"\r\n          id=\"v-pills-tab\"\r\n          role=\"tablist\"\r\n          aria-orientation=\"vertical\"\r\n        >\r\n          <a\r\n            className=\"nav-link active\"\r\n            id=\"v-pills-home-tab\"\r\n            data-toggle=\"pill\"\r\n            href=\"#v-pills-home\"\r\n            role=\"tab\"\r\n            aria-selected=\"false\"\r\n            onClick={() => setTab(\"statistics\")}\r\n          >\r\n            統計\r\n          </a>\r\n          {/*  */}\r\n          <a\r\n            className=\"nav-link \"\r\n            id=\"v-pills-home-tab\"\r\n            data-toggle=\"pill\"\r\n            href=\"#v-pills-home\"\r\n            role=\"tab\"\r\n            aria-selected=\"false\"\r\n            onClick={() => setTab(\"shops\")}\r\n          >\r\n            ショップのリスト\r\n          </a>\r\n          {/*  */}\r\n          <a\r\n            className=\"nav-link\"\r\n            id=\"v-pills-profile-tab\"\r\n            data-toggle=\"pill\"\r\n            href=\"#v-pills-profile\"\r\n            role=\"tab\"\r\n            aria-selected=\"false\"\r\n            onClick={() => setTab(\"users\")}\r\n          >\r\n            ユーザーリスト\r\n          </a>\r\n          {/*  */}\r\n          <a\r\n            className=\"nav-link\"\r\n            id=\"v-pills-messages-tab\"\r\n            data-toggle=\"pill\"\r\n            href=\"#v-pills-messages\"\r\n            role=\"tab\"\r\n            aria-selected=\"false\"\r\n            onClick={() => setTab(\"orders\")}\r\n          >\r\n            注文のリスト\r\n          </a>\r\n          {/*  */}\r\n          <a\r\n            className=\"nav-link\"\r\n            id=\"v-pills-settings-tab\"\r\n            data-toggle=\"pill\"\r\n            href=\"#v-pills-settings\"\r\n            role=\"tab\"\r\n            aria-selected=\"false\"\r\n            onClick={() => setTab(\"discounts\")}\r\n          >\r\n            割引のリスト\r\n          </a>\r\n          {/*  */}\r\n          <Link\r\n            className=\"nav-link\"\r\n            id=\"v-pills-settings-tab\"\r\n            data-toggle=\"pill\"\r\n            // href=\"#v-pills-settings\"\r\n            role=\"tab\"\r\n            aria-selected=\"false\"\r\n            to='/'\r\n            // onClick={() => setTab(\"default\")}\r\n          >\r\n            TOPページ\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst tmpUser = {\r\n  active: true,\r\n  address: \"84 oik\",\r\n  birthday: \"1999-09-04\",\r\n  deleted_at: null,\r\n  email: \"quanghuy4919@gmail.com\",\r\n  gender: \"undisclosed\",\r\n  id: 17,\r\n  is_persistent: false,\r\n  name: null,\r\n  nickname: \"qhuy4919\",\r\n  phone_number: \"0935750383\",\r\n  profile_pic: \"profile_pic-1638101441965.jpg\",\r\n  role: \"User\",\r\n  token: \"211e3494d9451163c15cbc256f4869e322b26d738d8a04ec892d22ff3274594f\",\r\n  token_created_at: \"2021-11-28T12:09:38.060Z\",\r\n  updated_at: \"2021-11-01T12:59:21.941Z\",\r\n};\r\n\r\nconst profile = {\r\n  name: \"Ông tổ giặt ủi\",\r\n  // img: \"https://picsum.photos/200/200\",\r\n  img: \"https://cdn4.iconfinder.com/data/icons/user-people-2/48/6-512.png\",\r\n};","import {Card} from \"react-bootstrap\";\r\nimport \"./Stats.scss\"\r\n\r\nexport function Stats() {\r\n\treturn (\r\n\t\r\n\t<div className=\"stats-wrapper\">\r\n\t\t<h2>Statistics</h2>\r\n\t\t<hr></hr>\r\n\t\t<div className=\"stats-container\">\r\n\t\t\t<Card className=\"count-section\">\r\n\t\t\t<Card.Body className=\"count-text h1 bg-light\">\r\n\t\t\t\t9999+ 👤\r\n\t\t\t</Card.Body>\r\n\t\t\t<Card.Title className=\"count-title\">ユーザー数</Card.Title>\r\n\t\t\t</Card>\r\n\t\t\t{/*  */}\r\n\t\t\t<Card className=\"count-section \">\r\n\t\t\t<Card.Body className=\"count-text h1 bg-light\">\r\n\t\t\t\t999+ 🏪\r\n\t\t\t</Card.Body>\r\n\t\t\t<Card.Title className=\"count-title\">店舗数 </Card.Title>\r\n\t\t\t</Card>\r\n\t\t\t{/*  */}\r\n\t\t\t<Card className=\"order count-section \">\r\n\t\t\t<Card.Body className=\"count-text h1 bg-light\">\r\n\t\t\t\t999999+ 📦\r\n\t\t\t</Card.Body>\r\n\t\t\t<Card.Title className=\"count-title\">注文数 </Card.Title>\r\n\t\t\t</Card>\r\n\t\t\t{/*  */}\r\n\t\t\t<Card className=\"income count-section \">\r\n\t\t\t<Card.Body className=\"count-text h1 bg-light\">\r\n\t\t\t\t999M+ 💰\r\n\t\t\t</Card.Body>\r\n\t\t\t<Card.Title className=\"count-title\">総収入 </Card.Title>\r\n\t\t\t</Card>\r\n\t\t</div>\r\n\t</div>\r\n\t);\r\n}","export function Shop() {\r\n\treturn (\r\n    <p>Shops</p>\r\n\t);\r\n}","export function User() {\r\n\treturn (\r\n    <p>User</p>\r\n\t);\r\n}\r\n","export function Order() {\r\n\treturn (\r\n    <p>Orders</p>\r\n\t);\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Table, Button } from \"react-bootstrap\";\r\nimport { AiOutlinePlus, AiFillEdit, AiFillDelete } from \"react-icons/ai\";\r\nimport { DiscountModal } from \"component\";\r\nimport ReactPaginate from 'react-paginate';\r\n\r\nimport {DiscountAPI} from '../../../../api/discount'\r\n\r\nimport \"./Discount.scss\";\r\n\r\nexport function Discount() {\r\n  const [discountData, setdiscountData] = useState([]);\r\n  const [show, setShow] = useState(false);\r\n\r\n  const [pageCount, setPageCount] = useState(0)\r\n  const [itemOffset, setItemOffset] = useState(0)\r\n  const ITEMS_PER_PAGE = 7;\r\n\r\n  useEffect(() => {\r\n    const fetchDiscountData = async () => {\r\n      try {\r\n        const request = await DiscountAPI.list();\r\n        // console.log(request)\r\n        if(request) {\r\n          setdiscountData(request.data);\r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    }\r\n    fetchDiscountData();\r\n    return true;\r\n  }, []); \r\n  useEffect(() => {\r\n    // console.log(discountData.length)\r\n    setPageCount( Math.ceil(discountData.length / ITEMS_PER_PAGE ) );\r\n    // console.log(pageCount)\r\n    handlePageClick({selected: 0});\r\n    setSelectedDiscount( pageData[0] );\r\n    // console.log(selectedDiscount)\r\n  }, [discountData]);\r\n\r\n  const [pageData, setPageData] = useState([]);\r\n\r\n  const [selectedDiscount, setSelectedDiscount] = useState(null)\r\n  function handleDiscountModal(e,idx) {\r\n    if (typeof idx === \"number\") {\r\n      setSelectedDiscount( pageData[idx] );\r\n    } else {\r\n      setSelectedDiscount( null );\r\n    }\r\n    handleShow();\r\n  }\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  function handleDeleteDiscount(e, index) {\r\n    const ID = pageData[index].id;\r\n    console.log(ID)\r\n    const _delete = async () => {\r\n      try {\r\n        const res = await DiscountAPI.delete(ID);\r\n        // console.log(request)\r\n        if(res) { setdiscountData(discountData.filter((item) => item.id !== ID)) }\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    }\r\n    _delete();\r\n  }\r\n\r\n  function handlePageClick(event) {\r\n    const newOffset = (event.selected * ITEMS_PER_PAGE);\r\n    // console.log(\r\n      // `User requested page number ${event.selected}, which is offset ${newOffset}`\r\n    // );\r\n    setItemOffset(newOffset);\r\n\r\n    const startIdx = newOffset;\r\n    const endIdx = newOffset + ITEMS_PER_PAGE;\r\n    // console.log(startIdx, endIdx)\r\n    setPageData(discountData.slice(startIdx, endIdx))\r\n  }\r\n\r\n  return (\r\n    <div className=\"table-wrapper\">\r\n      <div className=\"table-container\">\r\n        <div className=\"add-table-button\">\r\n          <Button variant=\"primary\" onClick={(e) => handleDiscountModal(e)}>\r\n            <AiOutlinePlus /> New \r\n          </Button>\r\n        </div>\r\n        <div className=\"table-table\">\r\n          <Table striped hover>\r\n            <thead>\r\n              <tr>\r\n                {/* <th>番号</th> */}\r\n                <th>ID</th>\r\n                <th>割引コード</th>\r\n                <th>コード数</th>\r\n                <th>割引額</th>\r\n                <th>最小額</th>\r\n                <th>開始時間</th>\r\n                <th>終了時間</th>\r\n                <th>アクション</th>\r\n              </tr>\r\n            </thead>\r\n            {/*  */}\r\n              { pageData.length > 0 ?\r\n                <tbody>\r\n                  {pageData.map((item, index) => (\r\n                    <tr key={\"discount-idx\"+index.toString()}>\r\n                      {/* <td>{index}</td> */}\r\n                      <td>{item.id}</td>\r\n                      <td>{item.discount_code}</td>\r\n                      <td>{item.remaining}</td>\r\n                      <td>{item.percentage}</td>\r\n                      <td>{item.minimum}</td>\r\n                      <td>{item.start_time}</td>\r\n                      <td>{item.end_time}</td>\r\n                      <td className=\"table-action\">\r\n                        <button\r\n                          className=\"update button\"\r\n                          onClick={(e) => handleDiscountModal(e, index)}\r\n                        >\r\n                          <AiFillEdit />\r\n                        </button>\r\n                        <button className=\"delete button\"\r\n                          onClick={(e) => handleDeleteDiscount(e, index)}\r\n                        >\r\n                          <AiFillDelete />\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n                :\r\n                <tbody><tr><td>No data yet</td></tr></tbody>\r\n              }\r\n          </Table>\r\n        </div>\r\n        {\r\n          <DiscountModal show={show} handleClose={handleClose} discountData={selectedDiscount}/>\r\n        }\r\n      </div>\r\n      <div className=\"pagination-container\">\r\n        {/* <Pagination pagination={pagination} onPageChange={handlePageChange} /> */}\r\n        <ReactPaginate\r\n          breakLabel=\"...\"\r\n          nextLabel=\">>\"\r\n          onPageChange={handlePageClick}\r\n          pageLinkClassName=\"clickable-border\"\r\n          previousLinkClassName=\"clickable-border\"\r\n          nextLinkClassName=\"clickable-border\"\r\n          pageRangeDisplayed={3}\r\n          pageCount={pageCount}\r\n          previousLabel=\"<<\"\r\n          renderOnZeroPageCount={null}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport { AdminHeader } from \"./header/header\";\r\nimport { AdminSidebar } from \"./sidebar/sidebar\";\r\n\r\nimport { Stats } from \"./admin-content/statistics/Stats\"\r\nimport { Shop } from \"./admin-content/shops/Shop\"\r\nimport { User } from \"./admin-content/users/User\"\r\nimport { Order } from \"./admin-content/orders/Order\"\r\nimport { Discount } from \"./admin-content/discounts/Discount\";\r\nimport { SIGNED_IN_USER } from \"const/local-storage-key\";\r\nimport \"./admin.scss\";\r\n\r\nfunction Admin() {\r\n  const [tab, setTab] = useState(\"statistics\")\r\n  const userCred = localStorage.getItem(SIGNED_IN_USER) ? JSON.parse(localStorage.getItem(SIGNED_IN_USER)).data.user : {role: 'guest'};\r\n\r\n  return (\r\n    <div className=\"admin-container\">\r\n        {/* <AdminHeader /> */}\r\n        <AdminSidebar setTab={setTab} user={userCred}/>\r\n        {\r\n          {\r\n            'statistics' : <Stats/>,\r\n            'shops' : <Shop/>,\r\n            'users' : <User/>,\r\n            'orders' : <Order/>,\r\n            'discounts' : <Discount/>,\r\n          }[tab]\r\n        }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Admin;\r\n","import { Footer, Topbar } from \"./component/index\";\r\nimport { BrowserRouter as Router, Switch, Route, Redirect } from \"react-router-dom\";\r\nimport FrontPage from \"./pages/front-page/FrontPage\";\r\nimport Shop from \"./pages/shop/shop\";\r\nimport ProfilePage from \"pages/profile-page/ProfilePage\";\r\nimport NotFoundPage from \"./pages/not-found/NotFoundPage\";\r\nimport InfoPage from \"pages/info/InfoPage\";\r\nimport Paymemt from \"pages/payment/payment\";\r\nimport AdminPage from \"./pages/admin/admin\";\r\nimport { SIGNED_IN_USER } from \"const/local-storage-key\";\r\n// import QuanLyPage from \"pages/quanly/QuanLyPage\";\r\nimport \"./styles/misc.css\";\r\nimport \"./App.css\";\r\n\r\nfunction UserPage() {\r\n  return (\r\n    <>\r\n      <Router>\r\n        <Topbar />\r\n\r\n        <div className=\"upmost-container\">\r\n          <Switch>\r\n            <Route path=\"/\" exact>\r\n              <FrontPage />\r\n            </Route>\r\n            <Route path=\"/profile\" exact>\r\n              <ProfilePage />\r\n            </Route>\r\n            <Route path=\"/shop/:id\" exact>\r\n              <Shop />\r\n            </Route>\r\n            <Route path=\"/payment/\" exact>\r\n              <Paymemt />\r\n            </Route>\r\n            <Route path=\"/info\" exact>\r\n              <InfoPage />\r\n            </Route>\r\n            <Route path=\"/not-found\" exact>\r\n              <NotFoundPage />\r\n            </Route>\r\n            <Redirect to=\"/not-found\"></Redirect>\r\n          </Switch>\r\n        </div>\r\n      </Router>\r\n      <Footer />\r\n    </>\r\n  );\r\n}\r\n\r\nfunction App() {\r\n  const userCred = localStorage.getItem(SIGNED_IN_USER) ? JSON.parse(localStorage.getItem(SIGNED_IN_USER)).data.user : {role: 'guest'};\r\n\r\n  // console.log(userCred)\r\n\r\n  return (\r\n    <>\r\n      <Router>\r\n          <Switch>\r\n            {\r\n              userCred.role && userCred.role.toLowerCase() === 'admin' && <Route path=\"/admin\" exact> <AdminPage /> </Route>\r\n            }\r\n            <Route path=\"/not-found\" exact>\r\n              <NotFoundPage />\r\n            </Route>\r\n            <Route path=\"/\" >\r\n              <UserPage/>\r\n            </Route>\r\n            <Redirect to=\"/not-found\"></Redirect>\r\n         </Switch>\r\n      </Router>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport { itemListSlice } from \"./itemSlice\";\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    itemList: itemListSlice.reducer,\r\n  },\r\n});\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store/store\";\r\nrequire(\"dotenv\").config();\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}